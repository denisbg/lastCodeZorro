{
    "sourceFile": "src/views/front/universe.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 354,
            "patches": [
                {
                    "date": 1704459477597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1704461598499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -612,8 +612,9 @@\n                 </div>\r\n               </BlocFilterStyle>\r\n               <CordStyle>\r\n                 <div className=\"title-univers\" >{universe.slug}</div>\r\n+                <div style={{width: '100%', height: '100%', color: '#4D5F68', fontSize: 96, fontFamily: 'Helvetica Neue LT Std', fontWeight: '700', lineHeight: 25.48, wordWrap: 'break-word'}}>{universe.slug}</div>\r\n               </CordStyle>\r\n               {(universe.slug === 'cordonnerie') && (\r\n                 <CordStyle>\r\n                   <div className=\"home-univers\" >  Nos artisans partenaires ne manquent ni de talons, ni de talents.\r\n"
                },
                {
                    "date": 1704461635514,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -612,9 +612,9 @@\n                 </div>\r\n               </BlocFilterStyle>\r\n               <CordStyle>\r\n                 <div className=\"title-univers\" >{universe.slug}</div>\r\n-                <div style={{width: '100%', height: '100%', color: '#4D5F68', fontSize: 96, fontFamily: 'Helvetica Neue LT Std', fontWeight: '700', lineHeight: 25.48, wordWrap: 'break-word'}}>{universe.slug}</div>\r\n+                <div style={{width: '100%', height: '100%', color: '#4D5F68', fontSize: 96, fontFamily: 'Helvetica Neue LT Std', fontWeight: '700', lineHeight: 1, wordWrap: 'break-word'}}>{universe.slug}</div>\r\n               </CordStyle>\r\n               {(universe.slug === 'cordonnerie') && (\r\n                 <CordStyle>\r\n                   <div className=\"home-univers\" >  Nos artisans partenaires ne manquent ni de talons, ni de talents.\r\n"
                },
                {
                    "date": 1704461742187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -612,10 +612,9 @@\n                 </div>\r\n               </BlocFilterStyle>\r\n               <CordStyle>\r\n                 <div className=\"title-univers\" >{universe.slug}</div>\r\n-                <div style={{width: '100%', height: '100%', color: '#4D5F68', fontSize: 96, fontFamily: 'Helvetica Neue LT Std', fontWeight: '700', lineHeight: 1, wordWrap: 'break-word'}}>{universe.slug}</div>\r\n-              </CordStyle>\r\n+                </CordStyle>\r\n               {(universe.slug === 'cordonnerie') && (\r\n                 <CordStyle>\r\n                   <div className=\"home-univers\" >  Nos artisans partenaires ne manquent ni de talons, ni de talents.\r\n                     Parfaitement bien dans leurs baskets, ils redonnent forme aux escarpins,\r\n"
                },
                {
                    "date": 1704461953761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,32 +610,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-              <CordStyle>\r\n-                <div className=\"title-univers\" >{universe.slug}</div>\r\n-                </CordStyle>\r\n-              {(universe.slug === 'cordonnerie') && (\r\n-                <CordStyle>\r\n-                  <div className=\"home-univers\" >  Nos artisans partenaires ne manquent ni de talons, ni de talents.\r\n-                    Parfaitement bien dans leurs baskets, ils redonnent forme aux escarpins,\r\n-                    bottes, ballerines et sneakers qui passent entre leurs mains.\r\n-                    Ils sont du genre à bichonner vos chaussures de la semelle jusqu’au dernier lacet :\r\n-                    pas question de s’arrêter au premier coup de pompe !</div>\r\n-                  <ButtonDef textButton=\"Commandez une réparation\" />\r\n-\r\n-                  <div class=\"container\">\r\n-                    <div class=\"row col-12\">\r\n-\r\n-                      <img style={{ width: 430 }} src={cordZ3img1} />\r\n-                      <img style={{ width: 430 }} src={cordZ3img2} />\r\n-                      <img style={{ width: 430 }} src={cordZ3img3} />\r\n-                    </div>\r\n-                    <img className=\"z3imgbottom\" src={cordZ3imgbottom} />\r\n-                  </div>\r\n-                </CordStyle>\r\n-              )}\r\n-\r\n+            <EnteteUnivers></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n               <BonusReparation></BonusReparation>\r\n"
                },
                {
                    "date": 1704462101642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,8 +38,9 @@\n import Commentcamarche from \"./commentcamarche\";\r\n import AnatomieUnivers from \"./anatomieUnivers\";\r\n import DecouvrezArtisan from \"./decouvrezArtisan\";\r\n import BonusReparation from \"./bonusreparation\";\r\n+import EnteteUnivers from \"./enteteUnivers\";\r\n \r\n export default function Universe() {\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n@@ -610,9 +611,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-            <EnteteUnivers></EnteteUnivers>\r\n+              <EnteteUnivers></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n               <BonusReparation></BonusReparation>\r\n"
                },
                {
                    "date": 1704462189633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,15 +23,12 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n-import cordZ3img1 from '../../assets/images/z3-3.png';\r\n-import cordZ3img2 from '../../assets/images/z3-2.png';\r\n-import cordZ3img3 from '../../assets/images/z3-1.png';\r\n-import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.png';\r\n \r\n \r\n \r\n+\r\n import {\r\n   CordStyle\r\n } from \"../../assets/styles/frontUniverseStyles\";\r\n import ButtonDef from \"../../components/ui-elements/buttonDef\";\r\n"
                },
                {
                    "date": 1704462239888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n \r\n import {\r\n   CordStyle\r\n } from \"../../assets/styles/frontUniverseStyles\";\r\n-import ButtonDef from \"../../components/ui-elements/buttonDef\";\r\n+\r\n import Commentcamarche from \"./commentcamarche\";\r\n import AnatomieUnivers from \"./anatomieUnivers\";\r\n import DecouvrezArtisan from \"./decouvrezArtisan\";\r\n import BonusReparation from \"./bonusreparation\";\r\n"
                },
                {
                    "date": 1704462257969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n \r\n import {\r\n   CordStyle\r\n } from \"../../assets/styles/frontUniverseStyles\";\r\n-\r\n+import ButtonDef from \"../../components/ui-elements/buttonDef\";\r\n import Commentcamarche from \"./commentcamarche\";\r\n import AnatomieUnivers from \"./anatomieUnivers\";\r\n import DecouvrezArtisan from \"./decouvrezArtisan\";\r\n import BonusReparation from \"./bonusreparation\";\r\n"
                },
                {
                    "date": 1704462310919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,9 @@\n import AnatomieUnivers from \"./anatomieUnivers\";\r\n import DecouvrezArtisan from \"./decouvrezArtisan\";\r\n import BonusReparation from \"./bonusreparation\";\r\n import EnteteUnivers from \"./enteteUnivers\";\r\n+import anatomieCord from '../../assets/images/zanatCord.png';\r\n \r\n export default function Universe() {\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n"
                },
                {
                    "date": 1704462410131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-              <EnteteUnivers></EnteteUnivers>\r\n+              <EnteteUnivers universe={universe}></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n               <BonusReparation></BonusReparation>\r\n"
                },
                {
                    "date": 1704462675449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-              <EnteteUnivers universe={universe}></EnteteUnivers>\r\n+              <EnteteUnivers></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n               <BonusReparation></BonusReparation>\r\n"
                },
                {
                    "date": 1704462989550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,11 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-              <EnteteUnivers></EnteteUnivers>\r\n+              <EnteteUnivers \r\n+                universe={universe}\r\n+               ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n               <BonusReparation></BonusReparation>\r\n"
                },
                {
                    "date": 1704463238116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                universe={universe}\r\n+                toto=\"universe\"}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463245124,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto=\"universe\"}\r\n+                toto={\"universe\"}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463356487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={\"universe\"}\r\n+                toto={filter.universe.value}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463386735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={filter.universe.value}\r\n+                toto={filter.universe.label}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463418150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={filter.universe.label}\r\n+                toto={filter.universe.nameCategory}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463438196,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={filter.universe.nameCategory}\r\n+                toto={filter.slugIdUniverse}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704463519262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={filter.slugIdUniverse}\r\n+                toto={universe.name}\r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704466877824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,11 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-                toto={universe.name}\r\n+              universName={universe.name}\r\n+              slugIdUniverse={universe.slugIdUniverse}\r\n+                \r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n               <AnatomieUnivers ></AnatomieUnivers>\r\n"
                },
                {
                    "date": 1704467211167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,10 +610,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n               <EnteteUnivers \r\n-              universName={universe.name}\r\n-              slugIdUniverse={universe.slugIdUniverse}\r\n+               universe={universe}\r\n                 \r\n                ></EnteteUnivers>\r\n               <Commentcamarche></Commentcamarche>\r\n               <DecouvrezArtisan></DecouvrezArtisan>\r\n"
                },
                {
                    "date": 1705665778869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,16 +31,18 @@\n import {\r\n   CordStyle\r\n } from \"../../assets/styles/frontUniverseStyles\";\r\n import ButtonDef from \"../../components/ui-elements/buttonDef\";\r\n-import Commentcamarche from \"./commentcamarche\";\r\n-import AnatomieUnivers from \"./anatomieUnivers\";\r\n-import DecouvrezArtisan from \"./decouvrezArtisan\";\r\n-import BonusReparation from \"./bonusreparation\";\r\n-import EnteteUnivers from \"./enteteUnivers\";\r\n+import Commentcamarche from \"./tunnel/universeStep/commentcamarche\";\r\n+import AnatomieUnivers from \"./tunnel/universeStep/anatomieUnivers\";\r\n+import DecouvrezArtisan from \"./tunnel/universeStep/decouvrezArtisan\";\r\n+import BonusReparation from \"./tunnel/universeStep/bonusreparation\";\r\n+import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n import anatomieCord from '../../assets/images/zanatCord.png';\r\n \r\n export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -421,8 +423,9 @@\n             setToggleFilter={setToggleFilter}\r\n           />\r\n           <ContentPageStyle>\r\n             <Container>\r\n+              \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -430,9 +433,9 @@\n                   ]}\r\n                 />\r\n               )}\r\n \r\n-              {isTabletOrMobile && (\r\n+              {isTabletOrMobile  && (\r\n                 <div\r\n                   className=\"btn-toggle-filter toggel-filter-universe\"\r\n                   onClick={() => {\r\n                     setToggleFilter(!toggleFilter);\r\n@@ -440,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-\r\n+              { isDisplayFilter  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n@@ -609,17 +612,14 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-              <EnteteUnivers \r\n-               universe={universe}\r\n-                \r\n-               ></EnteteUnivers>\r\n-              <Commentcamarche></Commentcamarche>\r\n-              <DecouvrezArtisan></DecouvrezArtisan>\r\n-              <AnatomieUnivers ></AnatomieUnivers>\r\n-              <BonusReparation></BonusReparation>\r\n-              <ListProduits\r\n+            )}\r\n+            {activedEtape === 1 &&\r\n+            <EnteteUnivers>                         \r\n+            </EnteteUnivers>}\r\n+            {activedEtape === 2 &&\r\n+            <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n                 pageIndex={pageIndex}\r\n@@ -627,8 +627,21 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n+            }\r\n+            {activedEtape === 3 &&\r\n+            <ListProduits\r\n+                data={services}\r\n+                perPage={perPage}\r\n+                setPerPage={setPerPage}\r\n+                pageIndex={pageIndex}\r\n+                setPageIndex={setPageIndex}\r\n+                totalItemsLength={totalServices}\r\n+                pagination={true}\r\n+                isLoading={isPending}\r\n+              />\r\n+            }\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1705665828017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { isDisplayFilter  && (\r\n+              { isDisplayFilter === true  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n"
                },
                {
                    "date": 1705665942870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { isDisplayFilter === true  && (\r\n+              { true  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n"
                },
                {
                    "date": 1705665959228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { true  && (\r\n+              { 0 === 0  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n"
                },
                {
                    "date": 1705666007046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { 0 === 0  && (\r\n+              \r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n@@ -612,9 +612,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-            )}\r\n+          \r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n             {activedEtape === 2 &&\r\n"
                },
                {
                    "date": 1705666112233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n import anatomieCord from '../../assets/images/zanatCord.png';\r\n \r\n export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n+  const isDisplayFilter = false;\r\n   const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n@@ -443,9 +443,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              \r\n+              { isDisplayFilter  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n@@ -612,9 +612,9 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-          \r\n+            )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n             {activedEtape === 2 &&\r\n"
                },
                {
                    "date": 1705667446154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -628,9 +628,9 @@\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n             }\r\n-            {activedEtape === 3 &&\r\n+          \r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n@@ -639,9 +639,9 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n-            }\r\n+          \r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1705667669565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -616,20 +616,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-            {activedEtape === 2 &&\r\n-            <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              />\r\n-            }\r\n+            \r\n           \r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n"
                },
                {
                    "date": 1705667786180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,19 +27,12 @@\n \r\n \r\n \r\n \r\n-import {\r\n-  CordStyle\r\n-} from \"../../assets/styles/frontUniverseStyles\";\r\n-import ButtonDef from \"../../components/ui-elements/buttonDef\";\r\n-import Commentcamarche from \"./tunnel/universeStep/commentcamarche\";\r\n-import AnatomieUnivers from \"./tunnel/universeStep/anatomieUnivers\";\r\n-import DecouvrezArtisan from \"./tunnel/universeStep/decouvrezArtisan\";\r\n-import BonusReparation from \"./tunnel/universeStep/bonusreparation\";\r\n+\r\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n-import anatomieCord from '../../assets/images/zanatCord.png';\r\n \r\n+\r\n export default function Universe() {\r\n   const isDisplayFilter = false;\r\n   const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n@@ -613,12 +606,9 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n             )}\r\n-            {activedEtape === 1 &&\r\n-            <EnteteUnivers>                         \r\n-            </EnteteUnivers>}\r\n-            \r\n+      \r\n           \r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n"
                },
                {
                    "date": 1705667806774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -606,9 +606,12 @@\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n             )}\r\n-      \r\n+            {activedEtape === 1 &&\r\n+            <EnteteUnivers>                         \r\n+            </EnteteUnivers>}\r\n+            \r\n           \r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n"
                },
                {
                    "date": 1705668559907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,18 +24,9 @@\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n \r\n-\r\n-\r\n-\r\n-\r\n-import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n-\r\n-\r\n export default function Universe() {\r\n-  const isDisplayFilter = false;\r\n-  const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -319,11 +310,13 @@\n         if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n           condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n         }\r\n \r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n+        const cpParamsUrlService = `page=${\r\n+          parseInt(index) + 1\r\n+        }&itemsPerPage=${perPage}&categories.parent.universe.id=${\r\n+          universe.id\r\n+        }${condition}`;\r\n \r\n         if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n           setParamsUrlService(cpParamsUrlService);\r\n           connector({\r\n@@ -416,9 +409,8 @@\n             setToggleFilter={setToggleFilter}\r\n           />\r\n           <ContentPageStyle>\r\n             <Container>\r\n-              \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -426,9 +418,9 @@\n                   ]}\r\n                 />\r\n               )}\r\n \r\n-              {isTabletOrMobile  && (\r\n+              {isTabletOrMobile && (\r\n                 <div\r\n                   className=\"btn-toggle-filter toggel-filter-universe\"\r\n                   onClick={() => {\r\n                     setToggleFilter(!toggleFilter);\r\n@@ -436,9 +428,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { isDisplayFilter  && (\r\n+\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n@@ -605,15 +597,10 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-            )}\r\n-            {activedEtape === 1 &&\r\n-            <EnteteUnivers>                         \r\n-            </EnteteUnivers>}\r\n-            \r\n-          \r\n-            <ListProduits\r\n+\r\n+              <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n                 pageIndex={pageIndex}\r\n@@ -621,9 +608,8 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n-          \r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1706547768677,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,18 @@\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n \r\n+\r\n+\r\n+\r\n+\r\n+import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n+\r\n+\r\n export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -310,13 +319,11 @@\n         if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n           condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n         }\r\n \r\n-        const cpParamsUrlService = `page=${\r\n-          parseInt(index) + 1\r\n-        }&itemsPerPage=${perPage}&categories.parent.universe.id=${\r\n-          universe.id\r\n-        }${condition}`;\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n \r\n         if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n           setParamsUrlService(cpParamsUrlService);\r\n           connector({\r\n@@ -409,8 +416,9 @@\n             setToggleFilter={setToggleFilter}\r\n           />\r\n           <ContentPageStyle>\r\n             <Container>\r\n+              \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -418,9 +426,9 @@\n                   ]}\r\n                 />\r\n               )}\r\n \r\n-              {isTabletOrMobile && (\r\n+              {isTabletOrMobile  && (\r\n                 <div\r\n                   className=\"btn-toggle-filter toggel-filter-universe\"\r\n                   onClick={() => {\r\n                     setToggleFilter(!toggleFilter);\r\n@@ -428,9 +436,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-\r\n+              { isDisplayFilter  && (\r\n               <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                 {isTabletOrMobile && (\r\n                   <button\r\n                     className=\"menu-burger is-opened\"\r\n@@ -597,10 +605,15 @@\n                     {isTabletOrMobile && <>Recherche</>}\r\n                   </button>\r\n                 </div>\r\n               </BlocFilterStyle>\r\n-\r\n-              <ListProduits\r\n+            )}\r\n+            {activedEtape === 1 &&\r\n+            <EnteteUnivers>                         \r\n+            </EnteteUnivers>}\r\n+            \r\n+          \r\n+            <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n                 pageIndex={pageIndex}\r\n@@ -608,8 +621,9 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n+          \r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1706548220824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n             \r\n-          \r\n+          <Maquette></Maquette>\r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706548257607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,13 +23,13 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n+import maquette from \"./tunnel/universeStep/maquette\";\r\n \r\n \r\n \r\n \r\n-\r\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n \r\n \r\n export default function Universe() {\r\n"
                },
                {
                    "date": 1706548279099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n-import maquette from \"./tunnel/universeStep/maquette\";\r\n+import Maquette from \"./tunnel/universeStep/maquette\";\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1706548431304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,10 +609,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-            \r\n-          <Maquette></Maquette>\r\n+       \r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706548607715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-       \r\n+       <Maquette></Maquette>\r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706549203602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-       <Maquette></Maquette>\r\n+            <ListFichePrestation></ListFichePrestation>\r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706549299847,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,10 @@\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1706549475838,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -611,9 +611,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-            <ListFichePrestation></ListFichePrestation>\r\n+            <ListePrestationFiche></ListePrestationFiche>\r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706549757690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-\r\n+import ListeArtisansUnivers from \"./universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -611,9 +611,9 @@\n             )}\r\n             {activedEtape === 1 &&\r\n             <EnteteUnivers>                         \r\n             </EnteteUnivers>}\r\n-            <ListePrestationFiche></ListePrestationFiche>\r\n+            <ListeArtisansUnivers></ListeArtisansUnivers>\r\n             <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706549823006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"./universeStep/listeArtisansUnivers\";\r\n+import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1706549969461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -418,9 +418,9 @@\n             setToggleFilter={setToggleFilter}\r\n           />\r\n           <ContentPageStyle>\r\n             <Container>\r\n-              \r\n+\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -428,9 +428,9 @@\n                   ]}\r\n                 />\r\n               )}\r\n \r\n-              {isTabletOrMobile  && (\r\n+              {isTabletOrMobile && (\r\n                 <div\r\n                   className=\"btn-toggle-filter toggel-filter-universe\"\r\n                   onClick={() => {\r\n                     setToggleFilter(!toggleFilter);\r\n@@ -438,183 +438,183 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n-              { isDisplayFilter  && (\r\n-              <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                {isTabletOrMobile && (\r\n-                  <button\r\n-                    className=\"menu-burger is-opened\"\r\n-                    onClick={() => {\r\n-                      setToggleFilter(false);\r\n-                    }}\r\n-                  >\r\n-                    <span></span>\r\n-                    <span></span>\r\n-                    <span></span>\r\n-                  </button>\r\n-                )}\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n \r\n-                <div className=\"item-filter\">\r\n-                  <Select\r\n-                    {...filter.universe}\r\n-                    element={filter.universe}\r\n-                    setElement={(element) => {\r\n-                      const cpFilter = { ...filter };\r\n-                      cpFilter.universe = element;\r\n-                      setFilter(cpFilter);\r\n-                    }}\r\n-                    onChange={(e) => {\r\n-                      if (e.value && e.slug) {\r\n-                        document.dispatchEvent(\r\n-                          new CustomEvent(\"Universe\", {\r\n-                            detail: {\r\n-                              url: `/univers/${e.slug}-${e.value}`,\r\n-                              id: e.value,\r\n-                            },\r\n-                          })\r\n-                        );\r\n-                        history.push(`/univers/${e.slug}-${e.value}`);\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n \r\n-                        msgErrors({\r\n-                          universe: false,\r\n-                          category: false,\r\n-                          subCategory: false,\r\n-                          codePostal: false,\r\n-                        });\r\n-                      }\r\n-                    }}\r\n-                  />\r\n-                </div>\r\n-\r\n-                <div className=\"item-filter\">\r\n-                  <Select\r\n-                    {...filter.category}\r\n-                    element={filter.category}\r\n-                    setElement={(element) => {\r\n-                      const cpFilter = { ...filter };\r\n-                      cpFilter.category = element;\r\n-                      setFilter(cpFilter);\r\n-                    }}\r\n-                    onChange={(e) => {\r\n-                      if (filter.category.value !== e.value) {\r\n-                        let cpFilter = { ...filter };\r\n-                        cpFilter.category.value = e.value;\r\n-                        cpFilter.category.error = false;\r\n-                        localStorage.setItem(\"defaultCategory\", e.value);\r\n-                        cpFilter = refreshSubCategory(\r\n-                          cpFilter,\r\n-                          universe.categories\r\n-                        );\r\n-                        if (e.value == \"\") {\r\n-                          cpFilter.subCategory.value = \"\";\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n                         }\r\n-                        cpFilter.subCategory.error = false;\r\n-                        cpFilter.subCategory.infoBull = false;\r\n-                        setFilter(cpFilter);\r\n-                      }\r\n-                    }}\r\n-                  />\r\n-                </div>\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n \r\n-                {filter.category.value && (\r\n                   <div className=\"item-filter\">\r\n-                    <SelectCat\r\n-                      {...filter.subCategory}\r\n-                      element={filter.subCategory}\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n                       setElement={(element) => {\r\n                         const cpFilter = { ...filter };\r\n-                        cpFilter.subCategory = element;\r\n+                        cpFilter.category = element;\r\n                         setFilter(cpFilter);\r\n                       }}\r\n-                      onChangeCallback={(response) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.subCategory.value = response;\r\n-                        cpFilter.subCategory.error = false;\r\n-                        localStorage.setItem(\r\n-                          \"defaultSubCategory\",\r\n-                          JSON.stringify(response)\r\n-                        );\r\n-                        setFilter(cpFilter);\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n                       }}\r\n                     />\r\n                   </div>\r\n-                )}\r\n \r\n-                {/* <div className=\"item-filter\">\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n                   <InputSearchKeyword\r\n                     filter={filter}\r\n                     setFilter={setFilter}\r\n                     universe={universe}\r\n                   />\r\n                 </div> */}\r\n \r\n-                <div className=\"item-filter\">\r\n-                  <InputAutoComplete\r\n-                    filter={filterMap}\r\n-                    setFilter={setFilterMap}\r\n-                    placeIsSelected={placeIsSelected}\r\n-                    setPlaceIsSelected={setPlaceIsSelected}\r\n-                    isPendingLatLng={isPendingLatLng}\r\n-                    setIsPendingLatLng={setIsPendingLatLng}\r\n-                  />\r\n-                </div>\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n \r\n-                <div className=\"item-filter btn-filter-banner\">\r\n-                  <button\r\n-                    className=\"btn-search-filter\"\r\n-                    onClick={() => {\r\n-                      if (\r\n-                        isTabletOrMobile &&\r\n-                        placeIsSelected &&\r\n-                        filterMap.codePostal.latitude &&\r\n-                        filterMap.codePostal.value\r\n-                      ) {\r\n-                        setToggleFilter(false);\r\n-                      }\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n \r\n-                      if (\r\n-                        filter.universe.value &&\r\n-                        filter.category.value &&\r\n-                        ((Array.isArray(filter.subCategory.value) &&\r\n-                          filter.subCategory.value.length > 0) ||\r\n-                          !filter.universe.requireSearchSubCategory) &&\r\n-                        placeIsSelected\r\n-                      ) {\r\n-                        getServices(false, 0);\r\n-                      } else {\r\n-                        msgErrors({\r\n-                          universe: !filter.universe.value,\r\n-                          category:\r\n-                            filter.universe.value && !filter.category.value,\r\n-                          subCategory:\r\n-                            filter.universe.value &&\r\n-                            filter.category.value &&\r\n-                            !(\r\n-                              Array.isArray(filter.subCategory.value) &&\r\n-                              filter.subCategory.value.length > 0\r\n-                            ) &&\r\n-                            filter.universe.requireSearchSubCategory,\r\n-                          codePostal: !placeIsSelected,\r\n-                        });\r\n-                      }\r\n-                    }}\r\n-                  >\r\n-                    {isDesktopOrLaptop && (\r\n-                      <>\r\n-                        <SearchIcon />\r\n-                      </>\r\n-                    )}\r\n-                    {isTabletOrMobile && <>Recherche</>}\r\n-                  </button>\r\n-                </div>\r\n-              </BlocFilterStyle>\r\n-            )}\r\n-            {activedEtape === 1 &&\r\n-            <EnteteUnivers>                         \r\n-            </EnteteUnivers>}\r\n-            <ListeArtisansUnivers></ListeArtisansUnivers>\r\n-            <ListProduits\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {activedEtape === 1 &&\r\n+                <EnteteUnivers>\r\n+                </EnteteUnivers>}\r\n+            s>\r\n+              <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n                 pageIndex={pageIndex}\r\n@@ -622,9 +622,9 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n-          \r\n+\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1706549977731,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,638 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import Maquette from \"./tunnel/universeStep/maquette\";\r\n+\r\n+\r\n+\r\n+\r\n+import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n+\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const activedEtape = 1;\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          <BannerPage\r\n+            universe={universe}\r\n+            toggleFilter={toggleFilter}\r\n+            setToggleFilter={setToggleFilter}\r\n+          />\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {activedEtape === 1 &&\r\n+                <EnteteUnivers>\r\n+                </EnteteUnivers>}\r\n+              <ListProduits\r\n+                data={services}\r\n+                perPage={perPage}\r\n+                setPerPage={setPerPage}\r\n+                pageIndex={pageIndex}\r\n+                setPageIndex={setPageIndex}\r\n+                totalItemsLength={totalServices}\r\n+                pagination={true}\r\n+                isLoading={isPending}\r\n+              />\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1706549991348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,647 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import Maquette from \"./tunnel/universeStep/maquette\";\r\n \r\n-\r\n-\r\n-\r\n-import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n-\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const activedEtape = 1;\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n-          />\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-              {isDisplayFilter && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {activedEtape === 1 &&\r\n-                <EnteteUnivers>\r\n-                </EnteteUnivers>}\r\n-              <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              />\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -1249,9 +611,8 @@\n               )}\r\n               {activedEtape === 1 &&\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n-            s>\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706609571732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -608,8 +608,11 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n+               <ListeArtisansUnivers>\r\n+                \r\n+               </ListeArtisansUnivers>\r\n               {activedEtape === 1 &&\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n               <ListProduits\r\n"
                },
                {
                    "date": 1706609602401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-\r\n+import ListeArtisansUnivers from \"./universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -609,9 +609,9 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n                <ListeArtisansUnivers>\r\n-                \r\n+\r\n                </ListeArtisansUnivers>\r\n               {activedEtape === 1 &&\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n"
                },
                {
                    "date": 1706609628256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"./universeStep/listeArtisansUnivers\";\r\n+import ListeArtisansUnivers from \"../components/universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1706609651258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"../components/universeStep/listeArtisansUnivers\";\r\n+import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1706609837061,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import ListeArtisansUnivers from \"../../components/universeStep/listeArtisansUnivers\";\r\n+\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -608,11 +608,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-               <ListeArtisansUnivers>\r\n-\r\n-               </ListeArtisansUnivers>\r\n+            \r\n               {activedEtape === 1 &&\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n               <ListProduits\r\n"
                },
                {
                    "date": 1706609979609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,13 +25,13 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n-import Maquette from \"./tunnel/universeStep/maquette\";\r\n \r\n \r\n \r\n \r\n+\r\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n \r\n \r\n export default function Universe() {\r\n"
                },
                {
                    "date": 1706610023430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,16 +25,10 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n-\r\n-\r\n-\r\n-\r\n-\r\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n \r\n-\r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1706610076256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -327,8 +327,9 @@\n             url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n             success: (response) => {\r\n               setServices(response.data[\"hydra:member\"] || []);\r\n               setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n               setIsPending(false);\r\n             },\r\n             catch: (error) => {\r\n               console.log(error);\r\n"
                },
                {
                    "date": 1706708643765,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -411,8 +411,9 @@\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n+            <BonusReparation></BonusReparation>\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n@@ -433,8 +434,9 @@\n                 >\r\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n+\r\n               {isDisplayFilter && (\r\n                 <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                   {isTabletOrMobile && (\r\n                     <button\r\n"
                },
                {
                    "date": 1706708658338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -411,9 +411,9 @@\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n-            <BonusReparation></BonusReparation>\r\n+          <BonusReparation></BonusReparation>\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n"
                },
                {
                    "date": 1706708753650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-\r\n+import   BonusReparation from \"../front/tunnel/universeStep/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1706708835044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -411,9 +411,9 @@\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n-          <BonusReparation></BonusReparation>\r\n+\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n@@ -607,8 +607,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n               {activedEtape === 1 &&\r\n+                        <BonusReparation></BonusReparation>\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n               <ListProduits\r\n                 data={services}\r\n"
                },
                {
                    "date": 1706708846568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -607,9 +607,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n               {activedEtape === 1 &&\r\n-                        <BonusReparation></BonusReparation>\r\n+                <BonusReparation></BonusReparation>\r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n               <ListProduits\r\n                 data={services}\r\n"
                },
                {
                    "date": 1706708880716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -607,9 +607,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n               {activedEtape === 1 &&\r\n-                <BonusReparation></BonusReparation>\r\n+              \r\n                 <EnteteUnivers>\r\n                 </EnteteUnivers>}\r\n               <ListProduits\r\n                 data={services}\r\n"
                },
                {
                    "date": 1706708887148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,10 @@\n             \r\n               {activedEtape === 1 &&\r\n               \r\n                 <EnteteUnivers>\r\n-                </EnteteUnivers>}\r\n+                </EnteteUnivers>\r\n+                          <BonusReparation></BonusReparation>}\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706708928773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -607,12 +607,12 @@\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n               {activedEtape === 1 &&\r\n-              \r\n-                <EnteteUnivers>\r\n-                </EnteteUnivers>\r\n-                          <BonusReparation></BonusReparation>}\r\n+              <><EnteteUnivers> </EnteteUnivers>\r\n+                <BonusReparation> </BonusReparation>\r\n+                </>\r\n+                }\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706708964142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -606,13 +606,9 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n-              {activedEtape === 1 &&\r\n-              <><EnteteUnivers> </EnteteUnivers>\r\n-                <BonusReparation> </BonusReparation>\r\n-                </>\r\n-                }\r\n+         \r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706708985552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -606,9 +606,13 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n-         \r\n+              {activedEtape === 1 &&\r\n+              <><EnteteUnivers> </EnteteUnivers>\r\n+                <BonusReparation> </BonusReparation>\r\n+                </>\r\n+                }\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1706709005140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -608,9 +608,9 @@\n               )}\r\n             \r\n               {activedEtape === 1 &&\r\n               <><EnteteUnivers> </EnteteUnivers>\r\n-                <BonusReparation> </BonusReparation>\r\n+               \r\n                 </>\r\n                 }\r\n               <ListProduits\r\n                 data={services}\r\n"
                },
                {
                    "date": 1707307789960,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -605,14 +605,10 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n+            <EnteteUnivers> </EnteteUnivers>\r\n             \r\n-              {activedEtape === 1 &&\r\n-              <><EnteteUnivers> </EnteteUnivers>\r\n-               \r\n-                </>\r\n-                }\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1707379861055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n+import { NotificationManager } from \"../react-notifications\";\r\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n"
                },
                {
                    "date": 1707379877152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"../react-notifications\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n"
                },
                {
                    "date": 1707381680571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -605,10 +605,14 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-            <EnteteUnivers> </EnteteUnivers>\r\n             \r\n+              {activedEtape === 1 &&\r\n+              <><EnteteUnivers> </EnteteUnivers>\r\n+               \r\n+                </>\r\n+                }\r\n               <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n                 setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1707743297288,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,8 @@\n import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const activedEtape = 1;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -606,24 +605,12 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n-              {activedEtape === 1 &&\r\n-              <><EnteteUnivers> </EnteteUnivers>\r\n-               \r\n-                </>\r\n-                }\r\n-              <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              />\r\n-\r\n+           \r\n+              <EnteteUnivers> </EnteteUnivers>\r\n+              \r\n+              \r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1707743340351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,628 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import   BonusReparation from \"../front/tunnel/universeStep/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          <BannerPage\r\n+            universe={universe}\r\n+            toggleFilter={toggleFilter}\r\n+            setToggleFilter={setToggleFilter}\r\n+          />\r\n+\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+            \r\n+              {activedEtape === 1 &&\r\n+              <><EnteteUnivers> </EnteteUnivers>\r\n+               \r\n+                </>\r\n+                }\r\n+          \r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1707743353771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -605,13 +605,13 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n-              {activedEtape === 1 &&\r\n+        \r\n               <><EnteteUnivers> </EnteteUnivers>\r\n                \r\n                 </>\r\n-                }\r\n+        \r\n           \r\n \r\n             </Container>\r\n           </ContentPageStyle>\r\n@@ -625,629 +625,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"../front/tunnel/universeStep/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n-          />\r\n-\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayFilter && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-            \r\n-           \r\n-              <EnteteUnivers> </EnteteUnivers>\r\n-              \r\n-              \r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1707745314789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n-import EnteteUnivers from \"./tunnel/enteteUnivers\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n@@ -606,9 +606,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n             \r\n         \r\n-              <><EnteteUnivers> </EnteteUnivers>\r\n+              <><FicheUnivers> </FicheUnivers>\r\n                \r\n                 </>\r\n         \r\n           \r\n"
                },
                {
                    "date": 1707745966580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"../front/tunnel/universeStep/bonusreparation\";\r\n+import   BonusReparation from \"../front/universeStep/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1707746626791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"../front/universeStep/bonusreparation\";\r\n+import   BonusReparation from \"./universeDetails/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1707746680113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"./universeDetails/bonusreparation\";\r\n+import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1707748235472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -604,16 +604,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-            \r\n-        \r\n-              <><FicheUnivers> </FicheUnivers>\r\n-               \r\n-                </>\r\n-        \r\n-          \r\n-\r\n+             <FicheUnivers> </FicheUnivers>\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1707816784237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -604,9 +604,10 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-             <FicheUnivers> </FicheUnivers>\r\n+              <FicheUnivers> </FicheUnivers>\r\n+              <FicheService></FicheService>\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1707817336262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -604,10 +604,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              <FicheUnivers> </FicheUnivers>\r\n-              <FicheService></FicheService>\r\n+             <FicheUnivers> </FicheUnivers>\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1707818983184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,631 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          <BannerPage\r\n+            universe={universe}\r\n+            toggleFilter={toggleFilter}\r\n+            setToggleFilter={setToggleFilter}\r\n+          />\r\n+\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+             <FicheUnivers> </FicheUnivers>\r\n+             <ListProduits\r\n+                data={services}\r\n+                perPage={perPage}\r\n+                setPerPage={setPerPage}\r\n+                pageIndex={pageIndex}\r\n+                setPageIndex={setPageIndex}\r\n+                totalItemsLength={totalServices}\r\n+                pagination={true}\r\n+                isLoading={isPending}\r\n+              />\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1707846776565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,633 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const isAsBefore = true;\r\n+\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          <BannerPage\r\n+            universe={universe}\r\n+            toggleFilter={toggleFilter}\r\n+            setToggleFilter={setToggleFilter}\r\n+          />\r\n+\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+          \r\n+             <ListProduits\r\n+                data={services}\r\n+                perPage={perPage}\r\n+                setPerPage={setPerPage}\r\n+                pageIndex={pageIndex}\r\n+                setPageIndex={setPageIndex}\r\n+                totalItemsLength={totalServices}\r\n+                pagination={true}\r\n+                isLoading={isPending}\r\n+              />\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1707847776314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const isAsBefore = true;\r\n+  const {isFicheUnivers, setIsFicheUnivers} = useState(true);\r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n@@ -606,8 +606,13 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n+              if (isFicheUnivers) {\r\n+              <FicheUnivers> </FicheUnivers> \r\n+              }\r\n+              else\r\n+              { \r\n           \r\n              <ListProduits\r\n                 data={services}\r\n                 perPage={perPage}\r\n@@ -617,639 +622,9 @@\n                 totalItemsLength={totalServices}\r\n                 pagination={true}\r\n                 isLoading={isPending}\r\n               />\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n             }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n-          />\r\n-\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayFilter && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-             <FicheUnivers> </FicheUnivers>\r\n-             <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              />\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n@@ -1261,625 +636,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n-          />\r\n-\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayFilter && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-             <FicheUnivers> </FicheUnivers>\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1707848435501,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import   BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n@@ -29,10 +29,11 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const {isFicheUnivers, setIsFicheUnivers} = useState(true);\r\n-\r\n+  const { isFicheUnivers, setIsFicheUnivers } = useState(true);\r\n+  const { isListProduits, setIsListProduits } = useState(true);\r\n+  \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -606,25 +607,26 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              if (isFicheUnivers) {\r\n-              <FicheUnivers> </FicheUnivers> \r\n-              }\r\n-              else\r\n-              { \r\n-          \r\n-             <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              />\r\n-            }\r\n+              {isFicheUnivers && (\r\n+                <><FicheUnivers> </FicheUnivers></>)}\r\n+              {isListProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+\r\n+\r\n+\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1707848464886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -607,11 +607,11 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isFicheUnivers && (\r\n+              {isFicheUnivers == true  && (\r\n                 <><FicheUnivers> </FicheUnivers></>)}\r\n-              {isListProduits && (\r\n+              {isListProduits == true && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1707848579491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const { isFicheUnivers, setIsFicheUnivers } = useState(true);\r\n   const { isListProduits, setIsListProduits } = useState(true);\r\n-  \r\n+  setIsFicheUnivers(true);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -607,11 +607,11 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isFicheUnivers == true  && (\r\n+              {isFicheUnivers   && (\r\n                 <><FicheUnivers> </FicheUnivers></>)}\r\n-              {isListProduits == true && (\r\n+              {isListProduits  && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1707848650445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,10 +29,10 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const { isFicheUnivers, setIsFicheUnivers } = useState(true);\r\n-  const { isListProduits, setIsListProduits } = useState(true);\r\n+  const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n+  const [isListProduits, setIsListProduits ] = useState(true);\r\n   setIsFicheUnivers(true);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n"
                },
                {
                    "date": 1707848683233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n   const [isListProduits, setIsListProduits ] = useState(true);\r\n-  setIsFicheUnivers(true);\r\n+\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n"
                },
                {
                    "date": 1707848701544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n+  const [ isFicheUnivers, setIsFicheUnivers ] = useState(false);\r\n   const [isListProduits, setIsListProduits ] = useState(true);\r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n"
                },
                {
                    "date": 1707849107523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,10 +29,10 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const [ isFicheUnivers, setIsFicheUnivers ] = useState(false);\r\n-  const [isListProduits, setIsListProduits ] = useState(true);\r\n+  const [isFicheUnivers, setIsFicheUnivers] = useState(false);\r\n+  const [isListProduits, setIsListProduits] = useState(true);\r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n@@ -407,235 +407,237 @@\n \r\n   return (\r\n     <Base>\r\n       {universe ? (\r\n-        <>\r\n+        <>{isListProduits ? (\r\n           <BannerPage\r\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n+        )\r\n \r\n-          <ContentPageStyle>\r\n-            <Container>\r\n+          < ContentPageStyle >\r\n+          <Container>\r\n \r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n+            {isDesktopOrLaptop && (\r\n+              <Breadcrumb\r\n+                crumbs={[\r\n+                  { name: \"Accueil\", path: \"/\" },\r\n+                  { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                ]}\r\n+              />\r\n+            )}\r\n \r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n+            {isTabletOrMobile && (\r\n+              <div\r\n+                className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                onClick={() => {\r\n+                  setToggleFilter(!toggleFilter);\r\n+                }}\r\n+              >\r\n+                <SearchIcon /> Rechercher une prestation\r\n+              </div>\r\n+            )}\r\n+\r\n+            {isDisplayFilter && (\r\n+              <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                {isTabletOrMobile && (\r\n+                  <button\r\n+                    className=\"menu-burger is-opened\"\r\n+                    onClick={() => {\r\n+                      setToggleFilter(false);\r\n+                    }}\r\n+                  >\r\n+                    <span></span>\r\n+                    <span></span>\r\n+                    <span></span>\r\n+                  </button>\r\n+                )}\r\n+\r\n+                <div className=\"item-filter\">\r\n+                  <Select\r\n+                    {...filter.universe}\r\n+                    element={filter.universe}\r\n+                    setElement={(element) => {\r\n+                      const cpFilter = { ...filter };\r\n+                      cpFilter.universe = element;\r\n+                      setFilter(cpFilter);\r\n+                    }}\r\n+                    onChange={(e) => {\r\n+                      if (e.value && e.slug) {\r\n+                        document.dispatchEvent(\r\n+                          new CustomEvent(\"Universe\", {\r\n+                            detail: {\r\n+                              url: `/univers/${e.slug}-${e.value}`,\r\n+                              id: e.value,\r\n+                            },\r\n+                          })\r\n+                        );\r\n+                        history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                        msgErrors({\r\n+                          universe: false,\r\n+                          category: false,\r\n+                          subCategory: false,\r\n+                          codePostal: false,\r\n+                        });\r\n+                      }\r\n+                    }}\r\n+                  />\r\n                 </div>\r\n-              )}\r\n \r\n-              {isDisplayFilter && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n+                <div className=\"item-filter\">\r\n+                  <Select\r\n+                    {...filter.category}\r\n+                    element={filter.category}\r\n+                    setElement={(element) => {\r\n+                      const cpFilter = { ...filter };\r\n+                      cpFilter.category = element;\r\n+                      setFilter(cpFilter);\r\n+                    }}\r\n+                    onChange={(e) => {\r\n+                      if (filter.category.value !== e.value) {\r\n+                        let cpFilter = { ...filter };\r\n+                        cpFilter.category.value = e.value;\r\n+                        cpFilter.category.error = false;\r\n+                        localStorage.setItem(\"defaultCategory\", e.value);\r\n+                        cpFilter = refreshSubCategory(\r\n+                          cpFilter,\r\n+                          universe.categories\r\n+                        );\r\n+                        if (e.value == \"\") {\r\n+                          cpFilter.subCategory.value = \"\";\r\n+                        }\r\n+                        cpFilter.subCategory.error = false;\r\n+                        cpFilter.subCategory.infoBull = false;\r\n+                        setFilter(cpFilter);\r\n+                      }\r\n+                    }}\r\n+                  />\r\n+                </div>\r\n \r\n+                {filter.category.value && (\r\n                   <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n+                    <SelectCat\r\n+                      {...filter.subCategory}\r\n+                      element={filter.subCategory}\r\n                       setElement={(element) => {\r\n                         const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n+                        cpFilter.subCategory = element;\r\n                         setFilter(cpFilter);\r\n                       }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n+                      onChangeCallback={(response) => {\r\n                         const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n+                        cpFilter.subCategory.value = response;\r\n+                        cpFilter.subCategory.error = false;\r\n+                        localStorage.setItem(\r\n+                          \"defaultSubCategory\",\r\n+                          JSON.stringify(response)\r\n+                        );\r\n                         setFilter(cpFilter);\r\n                       }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n                     />\r\n                   </div>\r\n+                )}\r\n \r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n+                {/* <div className=\"item-filter\">\r\n                   <InputSearchKeyword\r\n                     filter={filter}\r\n                     setFilter={setFilter}\r\n                     universe={universe}\r\n                   />\r\n                 </div> */}\r\n \r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n+                <div className=\"item-filter\">\r\n+                  <InputAutoComplete\r\n+                    filter={filterMap}\r\n+                    setFilter={setFilterMap}\r\n+                    placeIsSelected={placeIsSelected}\r\n+                    setPlaceIsSelected={setPlaceIsSelected}\r\n+                    isPendingLatLng={isPendingLatLng}\r\n+                    setIsPendingLatLng={setIsPendingLatLng}\r\n+                  />\r\n+                </div>\r\n \r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n+                <div className=\"item-filter btn-filter-banner\">\r\n+                  <button\r\n+                    className=\"btn-search-filter\"\r\n+                    onClick={() => {\r\n+                      if (\r\n+                        isTabletOrMobile &&\r\n+                        placeIsSelected &&\r\n+                        filterMap.codePostal.latitude &&\r\n+                        filterMap.codePostal.value\r\n+                      ) {\r\n+                        setToggleFilter(false);\r\n+                      }\r\n \r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isFicheUnivers   && (\r\n-                <><FicheUnivers> </FicheUnivers></>)}\r\n-              {isListProduits  && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n+                      if (\r\n+                        filter.universe.value &&\r\n+                        filter.category.value &&\r\n+                        ((Array.isArray(filter.subCategory.value) &&\r\n+                          filter.subCategory.value.length > 0) ||\r\n+                          !filter.universe.requireSearchSubCategory) &&\r\n+                        placeIsSelected\r\n+                      ) {\r\n+                        getServices(false, 0);\r\n+                      } else {\r\n+                        msgErrors({\r\n+                          universe: !filter.universe.value,\r\n+                          category:\r\n+                            filter.universe.value && !filter.category.value,\r\n+                          subCategory:\r\n+                            filter.universe.value &&\r\n+                            filter.category.value &&\r\n+                            !(\r\n+                              Array.isArray(filter.subCategory.value) &&\r\n+                              filter.subCategory.value.length > 0\r\n+                            ) &&\r\n+                            filter.universe.requireSearchSubCategory,\r\n+                          codePostal: !placeIsSelected,\r\n+                        });\r\n+                      }\r\n+                    }}\r\n+                  >\r\n+                    {isDesktopOrLaptop && (\r\n+                      <>\r\n+                        <SearchIcon />\r\n+                      </>\r\n+                    )}\r\n+                    {isTabletOrMobile && <>Recherche</>}\r\n+                  </button>\r\n+                </div>\r\n+              </BlocFilterStyle>\r\n+            )}\r\n+            {isFicheUnivers && (\r\n+              <><FicheUnivers> </FicheUnivers></>)}\r\n+            {isListProduits && (\r\n+              <ListProduits\r\n+                data={services}\r\n+                perPage={perPage}\r\n+                setPerPage={setPerPage}\r\n+                pageIndex={pageIndex}\r\n+                setPageIndex={setPageIndex}\r\n+                totalItemsLength={totalServices}\r\n+                pagination={true}\r\n+                isLoading={isPending}\r\n+              >\r\n+              </ListProduits>\r\n+            )}\r\n \r\n \r\n \r\n-            </Container>\r\n+          </Container>\r\n           </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n+    </>\r\n+  ) : (\r\n+    <FoundPage\r\n+      noBase\r\n+      title=\"Univers en cours de développement\"\r\n+      image={imgMaintenence}\r\n+    />\r\n+  )\r\n+}\r\n+    </Base >\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1707849147271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,13 +408,15 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>{isListProduits ? (\r\n+          <>\r\n           <BannerPage\r\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n+          </>\r\n         )\r\n \r\n           < ContentPageStyle >\r\n           <Container>\r\n"
                },
                {
                    "date": 1707849308787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,10 +29,10 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const [isFicheUnivers, setIsFicheUnivers] = useState(false);\r\n-  const [isListProduits, setIsListProduits] = useState(true);\r\n+  const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n+  const [isListProduits, setIsListProduits ] = useState(true);\r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n@@ -407,239 +407,235 @@\n \r\n   return (\r\n     <Base>\r\n       {universe ? (\r\n-        <>{isListProduits ? (\r\n-          <>\r\n+        <>\r\n           <BannerPage\r\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n           />\r\n-          </>\r\n-        )\r\n \r\n-          < ContentPageStyle >\r\n-          <Container>\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n \r\n-            {isDesktopOrLaptop && (\r\n-              <Breadcrumb\r\n-                crumbs={[\r\n-                  { name: \"Accueil\", path: \"/\" },\r\n-                  { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                ]}\r\n-              />\r\n-            )}\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n \r\n-            {isTabletOrMobile && (\r\n-              <div\r\n-                className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                onClick={() => {\r\n-                  setToggleFilter(!toggleFilter);\r\n-                }}\r\n-              >\r\n-                <SearchIcon /> Rechercher une prestation\r\n-              </div>\r\n-            )}\r\n-\r\n-            {isDisplayFilter && (\r\n-              <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                {isTabletOrMobile && (\r\n-                  <button\r\n-                    className=\"menu-burger is-opened\"\r\n-                    onClick={() => {\r\n-                      setToggleFilter(false);\r\n-                    }}\r\n-                  >\r\n-                    <span></span>\r\n-                    <span></span>\r\n-                    <span></span>\r\n-                  </button>\r\n-                )}\r\n-\r\n-                <div className=\"item-filter\">\r\n-                  <Select\r\n-                    {...filter.universe}\r\n-                    element={filter.universe}\r\n-                    setElement={(element) => {\r\n-                      const cpFilter = { ...filter };\r\n-                      cpFilter.universe = element;\r\n-                      setFilter(cpFilter);\r\n-                    }}\r\n-                    onChange={(e) => {\r\n-                      if (e.value && e.slug) {\r\n-                        document.dispatchEvent(\r\n-                          new CustomEvent(\"Universe\", {\r\n-                            detail: {\r\n-                              url: `/univers/${e.slug}-${e.value}`,\r\n-                              id: e.value,\r\n-                            },\r\n-                          })\r\n-                        );\r\n-                        history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                        msgErrors({\r\n-                          universe: false,\r\n-                          category: false,\r\n-                          subCategory: false,\r\n-                          codePostal: false,\r\n-                        });\r\n-                      }\r\n-                    }}\r\n-                  />\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n+              )}\r\n \r\n-                <div className=\"item-filter\">\r\n-                  <Select\r\n-                    {...filter.category}\r\n-                    element={filter.category}\r\n-                    setElement={(element) => {\r\n-                      const cpFilter = { ...filter };\r\n-                      cpFilter.category = element;\r\n-                      setFilter(cpFilter);\r\n-                    }}\r\n-                    onChange={(e) => {\r\n-                      if (filter.category.value !== e.value) {\r\n-                        let cpFilter = { ...filter };\r\n-                        cpFilter.category.value = e.value;\r\n-                        cpFilter.category.error = false;\r\n-                        localStorage.setItem(\"defaultCategory\", e.value);\r\n-                        cpFilter = refreshSubCategory(\r\n-                          cpFilter,\r\n-                          universe.categories\r\n-                        );\r\n-                        if (e.value == \"\") {\r\n-                          cpFilter.subCategory.value = \"\";\r\n-                        }\r\n-                        cpFilter.subCategory.error = false;\r\n-                        cpFilter.subCategory.infoBull = false;\r\n-                        setFilter(cpFilter);\r\n-                      }\r\n-                    }}\r\n-                  />\r\n-                </div>\r\n+              {isDisplayFilter && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n \r\n-                {filter.category.value && (\r\n                   <div className=\"item-filter\">\r\n-                    <SelectCat\r\n-                      {...filter.subCategory}\r\n-                      element={filter.subCategory}\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n                       setElement={(element) => {\r\n                         const cpFilter = { ...filter };\r\n-                        cpFilter.subCategory = element;\r\n+                        cpFilter.universe = element;\r\n                         setFilter(cpFilter);\r\n                       }}\r\n-                      onChangeCallback={(response) => {\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n                         const cpFilter = { ...filter };\r\n-                        cpFilter.subCategory.value = response;\r\n-                        cpFilter.subCategory.error = false;\r\n-                        localStorage.setItem(\r\n-                          \"defaultSubCategory\",\r\n-                          JSON.stringify(response)\r\n-                        );\r\n+                        cpFilter.category = element;\r\n                         setFilter(cpFilter);\r\n                       }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n                     />\r\n                   </div>\r\n-                )}\r\n \r\n-                {/* <div className=\"item-filter\">\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n                   <InputSearchKeyword\r\n                     filter={filter}\r\n                     setFilter={setFilter}\r\n                     universe={universe}\r\n                   />\r\n                 </div> */}\r\n \r\n-                <div className=\"item-filter\">\r\n-                  <InputAutoComplete\r\n-                    filter={filterMap}\r\n-                    setFilter={setFilterMap}\r\n-                    placeIsSelected={placeIsSelected}\r\n-                    setPlaceIsSelected={setPlaceIsSelected}\r\n-                    isPendingLatLng={isPendingLatLng}\r\n-                    setIsPendingLatLng={setIsPendingLatLng}\r\n-                  />\r\n-                </div>\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n \r\n-                <div className=\"item-filter btn-filter-banner\">\r\n-                  <button\r\n-                    className=\"btn-search-filter\"\r\n-                    onClick={() => {\r\n-                      if (\r\n-                        isTabletOrMobile &&\r\n-                        placeIsSelected &&\r\n-                        filterMap.codePostal.latitude &&\r\n-                        filterMap.codePostal.value\r\n-                      ) {\r\n-                        setToggleFilter(false);\r\n-                      }\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n \r\n-                      if (\r\n-                        filter.universe.value &&\r\n-                        filter.category.value &&\r\n-                        ((Array.isArray(filter.subCategory.value) &&\r\n-                          filter.subCategory.value.length > 0) ||\r\n-                          !filter.universe.requireSearchSubCategory) &&\r\n-                        placeIsSelected\r\n-                      ) {\r\n-                        getServices(false, 0);\r\n-                      } else {\r\n-                        msgErrors({\r\n-                          universe: !filter.universe.value,\r\n-                          category:\r\n-                            filter.universe.value && !filter.category.value,\r\n-                          subCategory:\r\n-                            filter.universe.value &&\r\n-                            filter.category.value &&\r\n-                            !(\r\n-                              Array.isArray(filter.subCategory.value) &&\r\n-                              filter.subCategory.value.length > 0\r\n-                            ) &&\r\n-                            filter.universe.requireSearchSubCategory,\r\n-                          codePostal: !placeIsSelected,\r\n-                        });\r\n-                      }\r\n-                    }}\r\n-                  >\r\n-                    {isDesktopOrLaptop && (\r\n-                      <>\r\n-                        <SearchIcon />\r\n-                      </>\r\n-                    )}\r\n-                    {isTabletOrMobile && <>Recherche</>}\r\n-                  </button>\r\n-                </div>\r\n-              </BlocFilterStyle>\r\n-            )}\r\n-            {isFicheUnivers && (\r\n-              <><FicheUnivers> </FicheUnivers></>)}\r\n-            {isListProduits && (\r\n-              <ListProduits\r\n-                data={services}\r\n-                perPage={perPage}\r\n-                setPerPage={setPerPage}\r\n-                pageIndex={pageIndex}\r\n-                setPageIndex={setPageIndex}\r\n-                totalItemsLength={totalServices}\r\n-                pagination={true}\r\n-                isLoading={isPending}\r\n-              >\r\n-              </ListProduits>\r\n-            )}\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isFicheUnivers   && (\r\n+                <><FicheUnivers> </FicheUnivers></>)}\r\n+              {isListProduits  && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n \r\n \r\n \r\n-          </Container>\r\n+            </Container>\r\n           </ContentPageStyle>\r\n-    </>\r\n-  ) : (\r\n-    <FoundPage\r\n-      noBase\r\n-      title=\"Univers en cours de développement\"\r\n-      image={imgMaintenence}\r\n-    />\r\n-  )\r\n-}\r\n-    </Base >\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1707849420042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n-  const [isListProduits, setIsListProduits ] = useState(true);\r\n+  const [ isListProduits, setIsListProduits ] = useState(false);\r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n"
                },
                {
                    "date": 1707849570274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,14 +408,16 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n+        {isListProduits && (\r\n+          <>\r\n           <BannerPage\r\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n             setToggleFilter={setToggleFilter}\r\n-          />\r\n-\r\n+ /></>\r\n+)}\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n"
                },
                {
                    "date": 1707849763525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -439,9 +439,9 @@\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n \r\n-              {isDisplayFilter && (\r\n+              {isListProduits && (\r\n                 <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                   {isTabletOrMobile && (\r\n                     <button\r\n                       className=\"menu-burger is-opened\"\r\n"
                },
                {
                    "date": 1707850688383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -403,9 +403,9 @@\n \r\n   if (universe === false) {\r\n     return <Loader />;\r\n   }\r\n-\r\n+ \r\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n"
                },
                {
                    "date": 1707851471780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n               {isFicheUnivers   && (\r\n-                <><FicheUnivers> </FicheUnivers></>)}\r\n+                <><FicheUnivers   isListeProduits={isListeProduits} setIsListProduits={updsetIsListProduits} > </FicheUnivers></>)}\r\n               {isListProduits  && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n"
                },
                {
                    "date": 1707851740972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,10 @@\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n-  const [ isListProduits, setIsListProduits ] = useState(false);\r\n+  const [ isDisplayListeProduits, setIsDisplayListeProduits ] = useState(false);\r\n+  \r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n@@ -439,9 +440,9 @@\n                   <SearchIcon /> Rechercher une prestation\r\n                 </div>\r\n               )}\r\n \r\n-              {isListProduits && (\r\n+              {isDisplayListeProduits && (\r\n                 <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                   {isTabletOrMobile && (\r\n                     <button\r\n                       className=\"menu-burger is-opened\"\r\n@@ -610,9 +611,9 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n               {isFicheUnivers   && (\r\n-                <><FicheUnivers   isListeProduits={isListeProduits} setIsListProduits={updsetIsListProduits} > </FicheUnivers></>)}\r\n+                <><FicheUnivers   isDisplayListeProduits={isDisplayListeProduits} setDisplayListeProduits={setDisplayListeProduits} > </FicheUnivers></>)}\r\n               {isListProduits  && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n"
                },
                {
                    "date": 1707851904778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,10 +29,10 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const [ isFicheUnivers, setIsFicheUnivers ] = useState(true);\r\n-  const [ isDisplayListeProduits, setIsDisplayListeProduits ] = useState(false);\r\n+  const [ isDisplayFicheUnivers,  setDisplayFicheUnivers ] = useState(true);\r\n+  const [ isDisplayListeProduits, setDisplayListeProduits ] = useState(false);\r\n   \r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n"
                },
                {
                    "date": 1707851974409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,9 +610,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isFicheUnivers   && (\r\n+              {isDisplayFicheUnivers   && (\r\n                 <><FicheUnivers   isDisplayListeProduits={isDisplayListeProduits} setDisplayListeProduits={setDisplayListeProduits} > </FicheUnivers></>)}\r\n               {isListProduits  && (\r\n                 <ListProduits\r\n                   data={services}\r\n"
                },
                {
                    "date": 1707852002285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -612,9 +612,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers   && (\r\n                 <><FicheUnivers   isDisplayListeProduits={isDisplayListeProduits} setDisplayListeProduits={setDisplayListeProduits} > </FicheUnivers></>)}\r\n-              {isListProduits  && (\r\n+              {isDisplayListeProduits  && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1707852025828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -409,9 +409,9 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-        {isListProduits && (\r\n+        {isDisplayListeProduits && (\r\n           <>\r\n           <BannerPage\r\n             universe={universe}\r\n             toggleFilter={toggleFilter}\r\n"
                },
                {
                    "date": 1707853023874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const [ isDisplayFicheUnivers,  setDisplayFicheUnivers ] = useState(true);\r\n   const [ isDisplayListeProduits, setDisplayListeProduits ] = useState(false);\r\n-  \r\n+ \r\n \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n"
                },
                {
                    "date": 1707855011531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,650 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [ isDisplayFicheUnivers,  setDisplayFicheUnivers ] = useState(true);\r\n+  const [ isDisplayListeProduits, setDisplayListeProduits ] = useState(false);\r\n+ \r\n+\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+ \r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+        {isDisplayListeProduits && (\r\n+          <>\r\n+          <BannerPage\r\n+            universe={universe}\r\n+            toggleFilter={toggleFilter}\r\n+            setToggleFilter={setToggleFilter}\r\n+ /></>\r\n+)}\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers   && (\r\n+                <><FicheUnivers   \r\n+                isDisplayListeProduits={isDisplayListeProduits}\r\n+                setDisplayListeProduits={setDisplayListeProduits} \r\n+                setDisplayFicheUnivers={setDisplayFicheUnivers} \r\n+                isDisplayFicheUnivers={isDisplayFicheUnivers} \r\n+                \r\n+                > </FicheUnivers></>)}\r\n+              {isDisplayListeProduits  && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1707855065450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -647,648 +647,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [ isDisplayFicheUnivers,  setDisplayFicheUnivers ] = useState(true);\r\n-  const [ isDisplayListeProduits, setDisplayListeProduits ] = useState(false);\r\n- \r\n-\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n- \r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-        {isDisplayListeProduits && (\r\n-          <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n- /></>\r\n-)}\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers   && (\r\n-                <><FicheUnivers   isDisplayListeProduits={isDisplayListeProduits} setDisplayListeProduits={setDisplayListeProduits} > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits  && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1708090458435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,12 +29,12 @@\n import FicheUnivers from \"./ficheUnivers\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const [ isDisplayFicheUnivers,  setDisplayFicheUnivers ] = useState(true);\r\n-  const [ isDisplayListeProduits, setDisplayListeProduits ] = useState(false);\r\n- \r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n \r\n+\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -404,21 +404,21 @@\n \r\n   if (universe === false) {\r\n     return <Loader />;\r\n   }\r\n- \r\n+\r\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-        {isDisplayListeProduits && (\r\n-          <>\r\n-          <BannerPage\r\n-            universe={universe}\r\n-            toggleFilter={toggleFilter}\r\n-            setToggleFilter={setToggleFilter}\r\n- /></>\r\n-)}\r\n+          {isDisplayListeProduits && false && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              /></>\r\n+          )}\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n@@ -610,17 +610,17 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isDisplayFicheUnivers   && (\r\n-                <><FicheUnivers   \r\n-                isDisplayListeProduits={isDisplayListeProduits}\r\n-                setDisplayListeProduits={setDisplayListeProduits} \r\n-                setDisplayFicheUnivers={setDisplayFicheUnivers} \r\n-                isDisplayFicheUnivers={isDisplayFicheUnivers} \r\n-                \r\n+              {isDisplayFicheUnivers && (\r\n+                <><FicheUnivers\r\n+                  isDisplayListeProduits={isDisplayListeProduits}\r\n+                  setDisplayListeProduits={setDisplayListeProduits}\r\n+                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+\r\n                 > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits  && (\r\n+              {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1708337447326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,11 @@\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+ \r\n \r\n-\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -409,16 +410,21 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-          {isDisplayListeProduits && false && (\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n             <>\r\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n+          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <h1>FICHE ARTISAN</h1>\r\n+              </>\r\n+          )}\r\n           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n@@ -616,8 +622,10 @@\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n                   isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisa}\r\n+                  isDisplayPrestationsArtisan={ isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n@@ -631,8 +639,21 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n+               {isDisplayPrestationsArtisan && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n \r\n \r\n \r\n             </Container>\r\n"
                },
                {
                    "date": 1708337621037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -622,9 +622,9 @@\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n                   isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisa}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={ isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n               {isDisplayListeProduits && (\r\n"
                },
                {
                    "date": 1708338876852,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -623,9 +623,9 @@\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n                   isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={ isDisplayPrestationsArtisan}\r\n+                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n"
                },
                {
                    "date": 1708342504811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,9 @@\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n@@ -640,9 +641,9 @@\n                 >\r\n                 </ListProduits>\r\n               )}\r\n                {isDisplayPrestationsArtisan && (\r\n-                <ListProduits\r\n+                <ArtListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n                   pageIndex={pageIndex}\r\n@@ -650,9 +651,9 @@\n                   totalItemsLength={totalServices}\r\n                   pagination={true}\r\n                   isLoading={isPending}\r\n                 >\r\n-                </ListProduits>\r\n+                </ArtListProduits>\r\n               )}\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1708343811663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -640,9 +640,9 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n-               {isDisplayPrestationsArtisan && (\r\n+               \r\n                 <ArtListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n@@ -652,9 +652,9 @@\n                   pagination={true}\r\n                   isLoading={isPending}\r\n                 >\r\n                 </ArtListProduits>\r\n-              )}\r\n+             \r\n \r\n \r\n \r\n             </Container>\r\n"
                },
                {
                    "date": 1708421102462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,662 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+ \r\n+\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              /></>\r\n+          )}\r\n+          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <h1>FICHE ARTISAN</h1>\r\n+              </>\r\n+          )}\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <><FicheUnivers\r\n+                  isDisplayListeProduits={isDisplayListeProduits}\r\n+                  setDisplayListeProduits={setDisplayListeProduits}\r\n+                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                > </FicheUnivers></>)}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+               \r\n+        \r\n+             \r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1708421427588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -641,9 +641,9 @@\n                 >\r\n                 </ListProduits>\r\n               )}\r\n                \r\n-        \r\n+        >\r\n              \r\n \r\n \r\n \r\n@@ -659,676 +659,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n- \r\n-\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              /></>\r\n-          )}\r\n-          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <h1>FICHE ARTISAN</h1>\r\n-              </>\r\n-          )}\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <><FicheUnivers\r\n-                  isDisplayListeProduits={isDisplayListeProduits}\r\n-                  setDisplayListeProduits={setDisplayListeProduits}\r\n-                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-               \r\n-                <ArtListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ArtListProduits>\r\n-             \r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1708421846199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n+//\r\n import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n@@ -641,9 +641,19 @@\n                 >\r\n                 </ListProduits>\r\n               )}\r\n                \r\n-        >\r\n+                <ArtListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ArtListProduits>\r\n              \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1708422004932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n-//\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n"
                },
                {
                    "date": 1708422155462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,672 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+//\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+ \r\n+\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({\r\n+    query: \"(min-width: 994px)\",\r\n+  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(\r\n+    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n+  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n+    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n+  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"latitude\"))\r\n+  );\r\n+  const [defaultLongitude] = useState(\r\n+    parseFloat(localStorage.getItem(\"longitude\"))\r\n+  );\r\n+\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              /></>\r\n+          )}\r\n+          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <h1>FICHE ARTISAN</h1>\r\n+              </>\r\n+          )}\r\n+          <ContentPageStyle>\r\n+            <Container>\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <><FicheUnivers\r\n+                  isDisplayListeProduits={isDisplayListeProduits}\r\n+                  setDisplayListeProduits={setDisplayListeProduits}\r\n+                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                > </FicheUnivers></>)}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+               \r\n+                <ArtListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ArtListProduits>\r\n+             \r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1708422176312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,680 +15,8 @@\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n-//\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n- \r\n-\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              /></>\r\n-          )}\r\n-          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <h1>FICHE ARTISAN</h1>\r\n-              </>\r\n-          )}\r\n-          <ContentPageStyle>\r\n-            <Container>\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <><FicheUnivers\r\n-                  isDisplayListeProduits={isDisplayListeProduits}\r\n-                  setDisplayListeProduits={setDisplayListeProduits}\r\n-                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-               \r\n-                <ArtListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ArtListProduits>\r\n-             \r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n import ArtListProduits from \"../../components/front/artListProduits\";\r\n import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n"
                },
                {
                    "date": 1708422215285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,8 @@\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n  \r\n-\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -640,20 +639,9 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n-               \r\n-                <ArtListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ArtListProduits>\r\n+           \r\n              \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1708424214580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -418,14 +418,9 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n-          {isDisplayListeProduits && isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <h1>FICHE ARTISAN</h1>\r\n-              </>\r\n-          )}\r\n-          <ContentPageStyle>\r\n+           <ContentPageStyle>\r\n             <Container>\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n"
                },
                {
                    "date": 1708510218719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -621,9 +621,9 @@\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits && (\r\n+              {isDisplayListeProduits || true && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1708510256522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -611,9 +611,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isDisplayFicheUnivers && (\r\n+              {isDisplayFicheUnivers|| true && (\r\n                 <><FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n"
                },
                {
                    "date": 1708510290681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -611,9 +611,9 @@\n                     </button>\r\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n-              {isDisplayFicheUnivers|| true && (\r\n+              {isDisplayFicheUnivers && (\r\n                 <><FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n@@ -621,9 +621,9 @@\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits || true && (\r\n+              {isDisplayListeProduits  (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1709283421955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,17 +382,18 @@\n     if (e.universe !== undefined) {\r\n       cpFilter.universe.error = e.universe;\r\n       cpFilter.universe.infoBull = e.universe;\r\n     }\r\n+    /*\r\n     if (e.category !== undefined) {\r\n       cpFilter.category.error = e.category;\r\n       cpFilter.category.infoBull = e.category;\r\n     }\r\n     if (e.subCategory !== undefined) {\r\n       cpFilter.subCategory.error = e.subCategory;\r\n       cpFilter.subCategory.infoBull = e.subCategory;\r\n     }\r\n-\r\n+    */\r\n     if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n     setFilter(cpFilter);\r\n \r\n     const cpFilterMap = { ...filterMap };\r\n@@ -621,9 +622,9 @@\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits  (\r\n+              {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n                   setPerPage={setPerPage}\r\n"
                },
                {
                    "date": 1709283573242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,8 +85,9 @@\n       infoBull: false,\r\n       textInfoBulle:\r\n         \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n     },\r\n+    /*\r\n     category: {\r\n       label: \"Catégorie(s)\",\r\n       placeholder: \"Choisir dans la liste\",\r\n       options: [],\r\n@@ -142,9 +143,9 @@\n           : null,\r\n       error: false,\r\n       required: true,\r\n       infoBulle: false,\r\n-    },\r\n+    },*/\r\n   });\r\n \r\n   useEffect(() => {\r\n     if (toggleFilter) {\r\n@@ -382,18 +383,17 @@\n     if (e.universe !== undefined) {\r\n       cpFilter.universe.error = e.universe;\r\n       cpFilter.universe.infoBull = e.universe;\r\n     }\r\n-    /*\r\n     if (e.category !== undefined) {\r\n       cpFilter.category.error = e.category;\r\n       cpFilter.category.infoBull = e.category;\r\n     }\r\n     if (e.subCategory !== undefined) {\r\n       cpFilter.subCategory.error = e.subCategory;\r\n       cpFilter.subCategory.infoBull = e.subCategory;\r\n     }\r\n-    */\r\n+\r\n     if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n     setFilter(cpFilter);\r\n \r\n     const cpFilterMap = { ...filterMap };\r\n"
                },
                {
                    "date": 1709283745101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,8 @@\n       infoBull: false,\r\n       textInfoBulle:\r\n         \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n     },\r\n-    /*\r\n     category: {\r\n       label: \"Catégorie(s)\",\r\n       placeholder: \"Choisir dans la liste\",\r\n       options: [],\r\n@@ -143,9 +142,9 @@\n           : null,\r\n       error: false,\r\n       required: true,\r\n       infoBulle: false,\r\n-    },*/\r\n+    },\r\n   });\r\n \r\n   useEffect(() => {\r\n     if (toggleFilter) {\r\n@@ -242,14 +241,14 @@\n \r\n           if (response.data?.nameSubCategory) {\r\n             cpFilter.subCategory.label = response.data.nameSubCategory;\r\n           }\r\n-\r\n+/*\r\n           if (response.data?.requireSearchSubCategory != undefined) {\r\n             cpFilter.universe.requireSearchSubCategory =\r\n               response.data.requireSearchSubCategory;\r\n           }\r\n-\r\n+*/\r\n           for (let i = 0; i < arrayObj.categories.length; i++) {\r\n             let o = arrayObj.categories[i];\r\n \r\n             if (o.id == defaultCategory) {\r\n"
                },
                {
                    "date": 1709283910564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -241,14 +241,14 @@\n \r\n           if (response.data?.nameSubCategory) {\r\n             cpFilter.subCategory.label = response.data.nameSubCategory;\r\n           }\r\n-/*\r\n+\r\n           if (response.data?.requireSearchSubCategory != undefined) {\r\n             cpFilter.universe.requireSearchSubCategory =\r\n               response.data.requireSearchSubCategory;\r\n           }\r\n-*/\r\n+\r\n           for (let i = 0; i < arrayObj.categories.length; i++) {\r\n             let o = arrayObj.categories[i];\r\n \r\n             if (o.id == defaultCategory) {\r\n"
                },
                {
                    "date": 1709283925386,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n       value: null,\r\n       error: false,\r\n       infoBull: false,\r\n       textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+        \"Veuillez sélectionner une ckatégorie dans la liste pour lancer une recherche\",\r\n     },\r\n     subCategory: {\r\n       label: \"Sous-catégorie(s)\",\r\n       placeholder: \"Affiner votre recherche\",\r\n"
                },
                {
                    "date": 1709283961095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n       value: null,\r\n       error: false,\r\n       infoBull: false,\r\n       textInfoBulle:\r\n-        \"Veuillez sélectionner une ckatégorie dans la liste pour lancer une recherche\",\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n     },\r\n     subCategory: {\r\n       label: \"Sous-catégorie(s)\",\r\n       placeholder: \"Affiner votre recherche\",\r\n"
                },
                {
                    "date": 1709550599434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -329,8 +329,9 @@\n           connector({\r\n             method: \"get\",\r\n             url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n             success: (response) => {\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n               setServices(response.data[\"hydra:member\"] || []);\r\n               setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n               console.log(response.data);\r\n               setIsPending(false);\r\n"
                },
                {
                    "date": 1710260713886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -420,9 +420,9 @@\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n            <ContentPageStyle>\r\n-            <Container>\r\n+            <Container style={{backgroundColor:\"#0000ff\"}}>\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n"
                },
                {
                    "date": 1710260727783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -419,10 +419,10 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n-           <ContentPageStyle>\r\n-            <Container style={{backgroundColor:\"#0000ff\"}}>\r\n+           <ContentPageStyle style={{backgroundColor:\"#0000ff\"}}> \r\n+            <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n"
                },
                {
                    "date": 1710260826759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -419,9 +419,9 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n-           <ContentPageStyle style={{backgroundColor:\"#0000ff\"}}> \r\n+           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n             <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n"
                },
                {
                    "date": 1710922505897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,25 +4,17 @@\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { BlocFilterStyle, ContentPageStyle, } from \"../../assets/styles/frontGlobalStyle\";\r\n import { SearchIcon } from \"../../assets/styles/icons\";\r\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n import endPoints from \"../../config/endPoints\";\r\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n@@ -33,9 +25,8 @@\n   const isDisplayFilter = true;\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n- \r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({\r\n     query: \"(min-width: 994px)\",\r\n   });\r\n@@ -56,9 +47,8 @@\n   );\r\n   const [defaultLongitude] = useState(\r\n     parseFloat(localStorage.getItem(\"longitude\"))\r\n   );\r\n-\r\n   const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n   const { slugIdUniverse } = useParams();\r\n   const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n   const [isPending, setIsPending] = useState(false);\r\n@@ -127,20 +117,11 @@\n       name: \"codePostal\",\r\n       type: \"text\",\r\n       label: \"Où\",\r\n       placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n+      value: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultCodePostal : \"\",\r\n+      latitude: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultLatitude : null,\r\n+      longitude: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultLongitude : null,\r\n       error: false,\r\n       required: true,\r\n       infoBulle: false,\r\n     },\r\n@@ -329,9 +310,9 @@\n           connector({\r\n             method: \"get\",\r\n             url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n             success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n               setServices(response.data[\"hydra:member\"] || []);\r\n               setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n               console.log(response.data);\r\n               setIsPending(false);\r\n@@ -419,9 +400,9 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n-           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n+          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n@@ -635,13 +616,13 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n-           \r\n-             \r\n \r\n \r\n \r\n+\r\n+\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1710922538515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,17 +4,25 @@\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { BlocFilterStyle, ContentPageStyle, } from \"../../assets/styles/frontGlobalStyle\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n import { SearchIcon } from \"../../assets/styles/icons\";\r\n import SelectCat from \"../../components/categories/selectCat\";\r\n import FoundPage from \"../../components/foundPage\";\r\n import BannerPage from \"../../components/front/bannerPage\";\r\n import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n import endPoints from \"../../config/endPoints\";\r\n import ROUTES from \"../../config/routes\";\r\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n@@ -47,8 +55,9 @@\n   );\r\n   const [defaultLongitude] = useState(\r\n     parseFloat(localStorage.getItem(\"longitude\"))\r\n   );\r\n+\r\n   const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n   const { slugIdUniverse } = useParams();\r\n   const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n   const [isPending, setIsPending] = useState(false);\r\n@@ -117,11 +126,20 @@\n       name: \"codePostal\",\r\n       type: \"text\",\r\n       label: \"Où\",\r\n       placeholder: \"Saisir un code postal\",\r\n-      value: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultCodePostal : \"\",\r\n-      latitude: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultLatitude : null,\r\n-      longitude: defaultCodePostal && defaultLatitude && defaultLongitude ? defaultLongitude : null,\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n       error: false,\r\n       required: true,\r\n       infoBulle: false,\r\n     },\r\n@@ -310,9 +328,9 @@\n           connector({\r\n             method: \"get\",\r\n             url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n             success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n               setServices(response.data[\"hydra:member\"] || []);\r\n               setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n               console.log(response.data);\r\n               setIsPending(false);\r\n@@ -400,9 +418,9 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n-          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n+           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n             <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n@@ -616,13 +634,13 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n+           \r\n+             \r\n \r\n \r\n \r\n-\r\n-\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1710922604954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,30 +34,19 @@\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({\r\n-    query: \"(min-width: 994px)\",\r\n-  });\r\n+  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n   const [toggleFilter, setToggleFilter] = useState(false);\r\n   const history = useHistory();\r\n   const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n   const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n   const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(\r\n-    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n-  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n-    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n-  );\r\n+  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n   const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"latitude\"))\r\n-  );\r\n-  const [defaultLongitude] = useState(\r\n-    parseFloat(localStorage.getItem(\"longitude\"))\r\n-  );\r\n-\r\n+  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n+  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n   const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n   const { slugIdUniverse } = useParams();\r\n   const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n   const [isPending, setIsPending] = useState(false);\r\n"
                },
                {
                    "date": 1711100052502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n           const arrayObj = response.data || { categories: [] };\r\n           setUniverse(arrayObj);\r\n-\r\n+console.log(\"ANONYMOUS_UNIVERSE\",response.data);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1711100077757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,644 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n+  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    if (id) {\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          setUniverse(arrayObj);\r\n+console.log(\"STEP ANONYMOUS_UNIVERSE\",response.data);\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              /></>\r\n+          )}\r\n+           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n+            <Container >\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <><FicheUnivers\r\n+                  isDisplayListeProduits={isDisplayListeProduits}\r\n+                  setDisplayListeProduits={setDisplayListeProduits}\r\n+                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                > </FicheUnivers></>)}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+           \r\n+             \r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de développement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1711100446426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,8 @@\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n           const arrayObj = response.data || { categories: [] };\r\n           setUniverse(arrayObj);\r\n-console.log(\"STEP ANONYMOUS_UNIVERSE\",response.data);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n@@ -641,648 +640,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n-  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    if (id) {\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          setUniverse(arrayObj);\r\n-console.log(\"ANONYMOUS_UNIVERSE\",response.data);\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              /></>\r\n-          )}\r\n-           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n-            <Container >\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <><FicheUnivers\r\n-                  isDisplayListeProduits={isDisplayListeProduits}\r\n-                  setDisplayListeProduits={setDisplayListeProduits}\r\n-                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-           \r\n-             \r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de développement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1712604104634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -633,9 +633,9 @@\n         </>\r\n       ) : (\r\n         <FoundPage\r\n           noBase\r\n-          title=\"Univers en cours de développement\"\r\n+          title=\"Univers en cours de edéveloppement\"\r\n           image={imgMaintenence}\r\n         />\r\n       )}\r\n     </Base>\r\n"
                },
                {
                    "date": 1712604213680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,9 +260,9 @@\n             } else if (error.response.data.message !== undefined) {\r\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n-          setUniverse(null);\r\n+          //setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712604368217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,8 +207,9 @@\n   }, [isPendingLatLng, pageIndex, perPage]);\r\n \r\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n+    console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse);\r\n     if (id) {\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n@@ -260,9 +261,10 @@\n             } else if (error.response.data.message !== undefined) {\r\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n-          //setUniverse(null);\r\n+        \r\n+          setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712604438161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,14 +207,15 @@\n   }, [isPendingLatLng, pageIndex, perPage]);\r\n \r\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n-    console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse);\r\n+    console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     if (id) {\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n+          console.log(\"UNI:1:01 response success \",response.data,id);\r\n           const arrayObj = response.data || { categories: [] };\r\n           setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n"
                },
                {
                    "date": 1712606621417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,10 +213,11 @@\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n-          console.log(\"UNI:1:01 response success \",response.data,id);\r\n+        \r\n           const arrayObj = response.data || { categories: [] };\r\n+          console.log(\"UNI:1:02 response success \",arrayObj);\r\n           setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n@@ -254,9 +255,9 @@\n           }\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n-          console.log(error);\r\n+          console.log(\"ERROR :\",error);\r\n           if (error.response?.data?.code !== undefined) {\r\n             if (error.response.data.code === 401) {\r\n               NotificationManager.error(\"Univers introuvable.\", \"\");\r\n             } else if (error.response.data.message !== undefined) {\r\n"
                },
                {
                    "date": 1712606726162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n           }\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n-          console.log(\"ERROR :\",error);\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n           if (error.response?.data?.code !== undefined) {\r\n             if (error.response.data.code === 401) {\r\n               NotificationManager.error(\"Univers introuvable.\", \"\");\r\n             } else if (error.response.data.message !== undefined) {\r\n"
                },
                {
                    "date": 1712607010549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,9 +264,9 @@\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n         \r\n-          setUniverse(null);\r\n+         // setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712607347630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n           }\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error.response);\r\n           if (error.response?.data?.code !== undefined) {\r\n             if (error.response.data.code === 401) {\r\n               NotificationManager.error(\"Univers introuvable.\", \"\");\r\n             } else if (error.response.data.message !== undefined) {\r\n"
                },
                {
                    "date": 1712609568292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,18 +255,18 @@\n           }\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error.response);\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n           if (error.response?.data?.code !== undefined) {\r\n             if (error.response.data.code === 401) {\r\n               NotificationManager.error(\"Univers introuvable.\", \"\");\r\n             } else if (error.response.data.message !== undefined) {\r\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n         \r\n-         // setUniverse(null);\r\n+          setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712610466361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n         \r\n-          const arrayObj = response.data || { categories: [] };\r\n+          //const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n           setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n"
                },
                {
                    "date": 1712610488180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,11 +214,11 @@\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n         \r\n-          //const arrayObj = response.data || { categories: [] };\r\n+          const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n+          //setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1712610577363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,9 @@\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n-        \r\n+          console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n           //setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n"
                },
                {
                    "date": 1712611073538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n         success: (response) => {\r\n           console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          //setUniverse(arrayObj);\r\n+          setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1712620234147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n         success: (response) => {\r\n           console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n+          //setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1712620277666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n         success: (response) => {\r\n           console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          //setUniverse(arrayObj);\r\n+          setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1712621198207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import jsonData from \"../../assets/images/data.json\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n@@ -209,8 +210,10 @@\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     if (id) {\r\n+     \r\n+     \r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n"
                },
                {
                    "date": 1712663256699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,11 +28,14 @@\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n import FicheUnivers from \"./ficheUnivers\";\r\n+import { consoleActivated } from \"../../vars\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n+  consoleActivated={`${process.env.REACT_APP_CONSOLE}`,consoleActivated};\r\n+  alert (\"CONSOLE ACTIVATED\",);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712663288188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n import { consoleActivated } from \"../../vars\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  consoleActivated={`${process.env.REACT_APP_CONSOLE}`,consoleActivated};\r\n+  const consoleActivated={`${process.env.REACT_APP_CONSOLE}`,consoleActivated};\r\n   alert (\"CONSOLE ACTIVATED\",);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n"
                },
                {
                    "date": 1712663400153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,10 +32,10 @@\n import { consoleActivated } from \"../../vars\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const consoleActivated={`${process.env.REACT_APP_CONSOLE}`,consoleActivated};\r\n-  alert (\"CONSOLE ACTIVATED\",);\r\n+  const consolelogActivated = `${process.env.REACT_APP_CONSOLE}`;\r\n+  alert (\"CONSOLE ACTIVATED\",consolelogActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712663466232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n import { consoleActivated } from \"../../vars\";\r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const consolelogActivated = `${process.env.REACT_APP_CONSOLE}`;\r\n+  const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n   alert (\"CONSOLE ACTIVATED\",consolelogActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n"
                },
                {
                    "date": 1712663531530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n-  alert (\"CONSOLE ACTIVATED\",consolelogActivated);\r\n+ console.log(\"consolelogActivated\",consolelogActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712663769197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,12 +30,13 @@\n import Base from \"../../theme/front/base\";\r\n import FicheUnivers from \"./ficheUnivers\";\r\n import { consoleActivated } from \"../../vars\";\r\n \r\n+\r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n- console.log(\"consolelogActivated\",consolelogActivated);\r\n+  //const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n+ console.log(\"UNI STEP 01 consolelogActivated\",consoleActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712664077154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,15 +28,15 @@\n import connector from \"../../connector\";\r\n import { clearErrors } from \"../../helper/form\";\r\n import Base from \"../../theme/front/base\";\r\n import FicheUnivers from \"./ficheUnivers\";\r\n-import { consoleActivated } from \"../../vars\";\r\n+import { consoleActivated, pathImage } from \"../../vars\";\r\n \r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   //const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n- console.log(\"UNI STEP 01 consolelogActivated\",consoleActivated);\r\n+ console.log(\"UNI STEP 01 consolelogActivated\",pathImage);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712664094980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   //const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n- console.log(\"UNI STEP 01 consolelogActivated\",pathImage);\r\n+ console.log(\"UNI STEP 01 consolelogActivated\",pathImage,consoleActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712664975871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n \r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  //const consolelogActivated = `--${process.env.REACT_APP_CONSOLE}--`;\r\n+  const consolelogActivated = `${process.env.REACT_APP_CONSOLE}`;\r\n  console.log(\"UNI STEP 01 consolelogActivated\",pathImage,consoleActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n"
                },
                {
                    "date": 1712665014341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n   const consolelogActivated = `${process.env.REACT_APP_CONSOLE}`;\r\n- console.log(\"UNI STEP 01 consolelogActivated\",pathImage,consoleActivated);\r\n+ console.log(\"UNI STEP 01 consolelogActivated\",pathImage,consolelogActivated);\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712665187764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,9 @@\n \r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-  const consolelogActivated = `${process.env.REACT_APP_CONSOLE}`;\r\n- console.log(\"UNI STEP 01 consolelogActivated\",pathImage,consolelogActivated);\r\n+\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n"
                },
                {
                    "date": 1712666327348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,9 +408,9 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+          {isDisplayListeProduits && (\r\n             <>\r\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n"
                },
                {
                    "date": 1712666350787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,9 +408,9 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-          {isDisplayListeProduits && (\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n             <>\r\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n"
                },
                {
                    "date": 1712666802596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,9 +408,9 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+          {!isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n             <>\r\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n"
                },
                {
                    "date": 1712666828882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -408,9 +408,9 @@\n   return (\r\n     <Base>\r\n       {universe ? (\r\n         <>\r\n-          {!isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n             <>\r\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n"
                },
                {
                    "date": 1712760594455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import jsonData from \"../../assets/images/data.json\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import {\r\n   BlocFilterStyle,\r\n"
                },
                {
                    "date": 1712844001338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n         \r\n-          setUniverse(null);\r\n+          //setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712844013805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n         \r\n-          //setUniverse(null);\r\n+          setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n       NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n"
                },
                {
                    "date": 1712845476808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,10 +212,8 @@\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     if (id) {\r\n-     \r\n-     \r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n"
                },
                {
                    "date": 1712845554922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,8 +211,9 @@\n \r\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n+    console.log(\"UNI:1:01 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n     if (id) {\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n"
                },
                {
                    "date": 1712846534274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -211,10 +211,11 @@\n \r\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n-    console.log(\"UNI:1:01 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n+    console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n     if (id) {\r\n+      console.log(\"UNI:1:012 if  id\", id);\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n"
                },
                {
                    "date": 1713965675633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,9 +221,9 @@\n         success: (response) => {\r\n           console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n+          //setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1713965711801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,9 +221,9 @@\n         success: (response) => {\r\n           console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n           console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          //setUniverse(arrayObj);\r\n+          setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1713966299231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,8 +54,10 @@\n   const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n   const [isPending, setIsPending] = useState(false);\r\n   const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n   const [universe, setUniverse] = useState(false);\r\n+  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n+  \r\n   const [perPage, setPerPage] = useState(perPageDesMob);\r\n   const [pageIndex, setPageIndex] = useState(0);\r\n   const [services, setServices] = useState([]);\r\n   const [totalServices, setTotalServices] = useState(0);\r\n@@ -212,9 +214,11 @@\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n-    if (id) {\r\n+   \r\n+    if ( (precUniverseid !== id) &&  id) {\r\n+      setPrecUniverseid(id);\r\n       console.log(\"UNI:1:012 if  id\", id);\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n"
                },
                {
                    "date": 1713966474819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n     console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n    \r\n     if ( (precUniverseid !== id) &&  id) {\r\n-      setPrecUniverseid(id);\r\n+    \r\n       console.log(\"UNI:1:012 if  id\", id);\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n@@ -261,8 +261,9 @@\n               }\r\n             }\r\n             cpFilter.category.options.push({ label: o.name, value: o.id });\r\n           }\r\n+          setPrecUniverseid(id);\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n           console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n"
                },
                {
                    "date": 1714784144331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,21 +212,21 @@\n   }, [isPendingLatLng, pageIndex, perPage]);\r\n \r\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n-    console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n-    console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n+    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n+    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n    \r\n     if ( (precUniverseid !== id) &&  id) {\r\n     \r\n-      console.log(\"UNI:1:012 if  id\", id);\r\n+      //console.log(\"UNI:1:012 if  id\", id);\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n-          console.log(\"UNI:1:015 response success \",response);\r\n+          //console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n-          console.log(\"UNI:1:02 response success \",arrayObj);\r\n+          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n           setUniverse(arrayObj);\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n"
                },
                {
                    "date": 1716460122089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,657 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container } from \"react-bootstrap\";\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+import { consoleActivated, pathImage } from \"../../vars\";\r\n+\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n+  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n+  \r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n+    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n+   \r\n+    if ( (precUniverseid !== id) &&  id) {\r\n+    \r\n+      //console.log(\"UNI:1:012 if  id\", id);\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          //console.log(\"UNI:1:015 response success \",response);\r\n+          const arrayObj = response.data || { categories: [] };\r\n+          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n+          setUniverse(arrayObj);\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setPrecUniverseid(id);\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+        \r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              /></>\r\n+          )}\r\n+           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n+            <Container >\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <FicheUnivers\r\n+                  isDisplayListeProduits={isDisplayListeProduits}\r\n+                  setDisplayListeProduits={setDisplayListeProduits}\r\n+                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                > </FicheUnivers>)}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+           \r\n+             \r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de edéveloppement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1716462089632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n \r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 793px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n   const [toggleFilter, setToggleFilter] = useState(false);\r\n   const history = useHistory();\r\n   const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n@@ -654,661 +654,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-import { consoleActivated, pathImage } from \"../../vars\";\r\n-\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n-  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n-  \r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n-    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n-   \r\n-    if ( (precUniverseid !== id) &&  id) {\r\n-    \r\n-      //console.log(\"UNI:1:012 if  id\", id);\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          //console.log(\"UNI:1:015 response success \",response);\r\n-          const arrayObj = response.data || { categories: [] };\r\n-          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setPrecUniverseid(id);\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-        \r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              /></>\r\n-          )}\r\n-           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n-            <Container >\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <><FicheUnivers\r\n-                  isDisplayListeProduits={isDisplayListeProduits}\r\n-                  setDisplayListeProduits={setDisplayListeProduits}\r\n-                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                > </FicheUnivers></>)}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-           \r\n-             \r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de edéveloppement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1716462480278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n \r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 793px)\" });\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n   const [toggleFilter, setToggleFilter] = useState(false);\r\n   const history = useHistory();\r\n   const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n"
                },
                {
                    "date": 1717594082390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -614,17 +614,36 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n+                <Container>\r\n+                    <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+                    <Row>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+          \r\n+                    </Row>\r\n+                    \r\n+                  </div>\r\n+                 \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n                   setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n                   isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n-                > </FicheUnivers>)}\r\n+                > </FicheUnivers>\r\n+                </Container>\r\n+                )}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n"
                },
                {
                    "date": 1717594142005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,10 @@\n import { useSelector } from \"react-redux\";\r\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n+import { getPathImage, slugify } from \"../../helper/functions\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n } from \"../../assets/styles/frontGlobalStyle\";\r\n"
                },
                {
                    "date": 1717594166970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Container } from \"react-bootstrap\";\r\n+import { Container, Col, Row } from \"react-bootstrap\";\r\n import { NotificationManager } from \"react-notifications\";\r\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n"
                },
                {
                    "date": 1717594190906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n import { Container, Col, Row } from \"react-bootstrap\";\r\n+import getImgUniverse from \"./universeImageManager.js\"\r\n import { NotificationManager } from \"react-notifications\";\r\n import { useMediaQuery } from \"react-responsive\";\r\n import { useHistory, useParams } from \"react-router-dom\";\r\n import { useSelector } from \"react-redux\";\r\n"
                },
                {
                    "date": 1717594238236,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,11 @@\n \r\n \r\n export default function Universe() {\r\n   const isDisplayFilter = true;\r\n-\r\n+  const [uniImgVitG, setUniImgVitG] = useState('');\r\n+  const [uniImgVitD, setUniImgVitD] = useState('');\r\n+  const [uniImgVitC, setUniImgVitC] = useState('');\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n"
                },
                {
                    "date": 1717594274781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,8 +38,9 @@\n   const isDisplayFilter = true;\r\n   const [uniImgVitG, setUniImgVitG] = useState('');\r\n   const [uniImgVitD, setUniImgVitD] = useState('');\r\n   const [uniImgVitC, setUniImgVitC] = useState('');\r\n+  var universeId = slugIdUniverse.split(\"-\").pop();\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n"
                },
                {
                    "date": 1717594305991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n   const isDisplayFilter = true;\r\n   const [uniImgVitG, setUniImgVitG] = useState('');\r\n   const [uniImgVitD, setUniImgVitD] = useState('');\r\n   const [uniImgVitC, setUniImgVitC] = useState('');\r\n-  var universeId = slugIdUniverse.split(\"-\").pop();\r\n+\r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n@@ -68,8 +68,9 @@\n   const [services, setServices] = useState([]);\r\n   const [totalServices, setTotalServices] = useState(0);\r\n   const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n   const universeSelector = useSelector((state) => state.universe);\r\n+  var universeId = slugIdUniverse.split(\"-\").pop();\r\n   const [filter, setFilter] = useState({\r\n     universe: {\r\n       label: \"Univers\",\r\n       placeholder: \"Choisir dans la liste\",\r\n"
                },
                {
                    "date": 1717594509301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,10 +231,37 @@\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n         success: (response) => {\r\n           //console.log(\"UNI:1:015 response success \",response);\r\n           const arrayObj = response.data || { categories: [] };\r\n+\r\n+\r\n+\r\n           //console.log(\"UNI:1:02 response success \",arrayObj);\r\n           setUniverse(arrayObj);\r\n+\r\n+          if (response.data?.name) {\r\n+            setuniverseTitle(response.data.name);\r\n+            setuniverseDescription(response.data.description);\r\n+            //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n+            setUniImgVitG(response.data.filenameimage1);\r\n+            setUniImgVitD(response.data.filenameimage2);\r\n+            setUniImgVitC(response.data.filenameimage3);\r\n+            setUniImgAnal(response.data.filenameanatomie);\r\n+            setUniTxtAnal(response.data.labelanatomie);\r\n+\r\n+            //console.log(\"BONUS univers est il eligible\", response.data);\r\n+            if (response.data.bonusreparation === '1') {\r\n+\r\n+              setdisplayBonusImage(response.data.bonusreparation);\r\n+              setdisplayBonusdetails(response.data.bonusdetails);\r\n+\r\n+            }\r\n+            if (response.data.anatomieactivated === 1)\r\n+              setdisplayAnatomieactivated(true);\r\n+\r\n+\r\n+\r\n+          }\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n           cpFilter.category.value = null;\r\n"
                },
                {
                    "date": 1717594576356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,10 @@\n   const [isPending, setIsPending] = useState(false);\r\n   const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n   const [universe, setUniverse] = useState(false);\r\n   const [precUniverseid, setPrecUniverseid] = useState(0);\r\n-  \r\n+  const [universeTitle, setuniverseTitle] = useState(\"\");\r\n+  const [universeDescription, setuniverseDescription] = useState('');\r\n   const [perPage, setPerPage] = useState(perPageDesMob);\r\n   const [pageIndex, setPageIndex] = useState(0);\r\n   const [services, setServices] = useState([]);\r\n   const [totalServices, setTotalServices] = useState(0);\r\n@@ -247,20 +248,12 @@\n             setUniImgVitC(response.data.filenameimage3);\r\n             setUniImgAnal(response.data.filenameanatomie);\r\n             setUniTxtAnal(response.data.labelanatomie);\r\n \r\n-            //console.log(\"BONUS univers est il eligible\", response.data);\r\n-            if (response.data.bonusreparation === '1') {\r\n+     \r\n \r\n-              setdisplayBonusImage(response.data.bonusreparation);\r\n-              setdisplayBonusdetails(response.data.bonusdetails);\r\n \r\n-            }\r\n-            if (response.data.anatomieactivated === 1)\r\n-              setdisplayAnatomieactivated(true);\r\n \r\n-\r\n-\r\n           }\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n"
                },
                {
                    "date": 1717594597795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,10 +245,9 @@\n             //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n             setUniImgVitG(response.data.filenameimage1);\r\n             setUniImgVitD(response.data.filenameimage2);\r\n             setUniImgVitC(response.data.filenameimage3);\r\n-            setUniImgAnal(response.data.filenameanatomie);\r\n-            setUniTxtAnal(response.data.labelanatomie);\r\n+         \r\n \r\n      \r\n \r\n \r\n"
                },
                {
                    "date": 1717594663213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,14 +245,8 @@\n             //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n             setUniImgVitG(response.data.filenameimage1);\r\n             setUniImgVitD(response.data.filenameimage2);\r\n             setUniImgVitC(response.data.filenameimage3);\r\n-         \r\n-\r\n-     \r\n-\r\n-\r\n-\r\n           }\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n@@ -641,9 +635,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n-                    <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+                    \r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -655,9 +649,9 @@\n                           src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n           \r\n                     </Row>\r\n                     \r\n-                  </div>\r\n+                   \r\n                  \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n"
                },
                {
                    "date": 1717594746686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -635,8 +635,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n+                <Container>\r\n                     \r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n@@ -649,9 +650,9 @@\n                           src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n           \r\n                     </Row>\r\n                     \r\n-                   \r\n+                   </Container>\r\n                  \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n"
                },
                {
                    "date": 1717594865745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -442,9 +442,24 @@\n               /></>\r\n           )}\r\n            <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n             <Container >\r\n-\r\n+            \r\n+                    \r\n+                    <Row>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+          \r\n+                    </Row>\r\n+                    \r\n+                   </Container>\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -635,24 +650,9 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n-                <Container>\r\n-                    \r\n-                    <Row>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n-                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-          \r\n-                    </Row>\r\n-                    \r\n-                   </Container>\r\n+             \r\n                  \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n"
                },
                {
                    "date": 1717594948334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -441,25 +441,10 @@\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n            <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n-            <Container >\r\n-            \r\n-                    \r\n-                    <Row>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n-                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-          \r\n-                    </Row>\r\n-                    \r\n-                   </Container>\r\n+             \r\n+\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -650,9 +635,11 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n-             \r\n+                    \r\n+                  \r\n+                  \r\n                  \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n"
                },
                {
                    "date": 1717594971637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -441,9 +441,9 @@\n                 setToggleFilter={setToggleFilter}\r\n               /></>\r\n           )}\r\n            <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n-             \r\n+            <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n@@ -634,9 +634,9 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n-                <Container>\r\n+   \r\n                     \r\n                   \r\n                   \r\n                  \r\n@@ -667,10 +667,9 @@\n            \r\n              \r\n \r\n \r\n-\r\n-            </Container>\r\n+ \r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n         <FoundPage\r\n"
                },
                {
                    "date": 1717594981270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -648,9 +648,9 @@\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers>\r\n-                </Container>\r\n+                \r\n                 )}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n"
                },
                {
                    "date": 1717594995810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,8 +245,11 @@\n             //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n             setUniImgVitG(response.data.filenameimage1);\r\n             setUniImgVitD(response.data.filenameimage2);\r\n             setUniImgVitC(response.data.filenameimage3);\r\n+\r\n+\r\n+\r\n           }\r\n           let cpFilter = { ...filter };\r\n           cpFilter.category.options = [];\r\n \r\n@@ -634,12 +637,24 @@\n                   </div>\r\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n-   \r\n+                <Container>\r\n+                    <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+                    <Row>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+          \r\n+                    </Row>\r\n                     \r\n-                  \r\n-                  \r\n+                  </div>\r\n                  \r\n                 <FicheUnivers\r\n                   isDisplayListeProduits={isDisplayListeProduits}\r\n                   setDisplayListeProduits={setDisplayListeProduits}\r\n@@ -648,9 +663,9 @@\n                   setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n                   isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n \r\n                 > </FicheUnivers>\r\n-                \r\n+                </Container>\r\n                 )}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n@@ -667,9 +682,10 @@\n            \r\n              \r\n \r\n \r\n- \r\n+\r\n+            </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n         <FoundPage\r\n"
                },
                {
                    "date": 1717595053617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,19 +43,19 @@\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n   const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({  query: \"(min-width: 994px)\"  });\r\n+  const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n   const [toggleFilter, setToggleFilter] = useState(false);\r\n   const history = useHistory();\r\n   const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n   const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n   const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState( parseInt(localStorage.getItem(\"defaultCategory\"))  );\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)  );\r\n+  const [defaultCategory, setDefaultCategory] = useState(parseInt(localStorage.getItem(\"defaultCategory\")));\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null));\r\n   const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(    parseFloat(localStorage.getItem(\"latitude\"))  );\r\n-  const [defaultLongitude] = useState(    parseFloat(localStorage.getItem(\"longitude\"))  );\r\n+  const [defaultLatitude] = useState(parseFloat(localStorage.getItem(\"latitude\")));\r\n+  const [defaultLongitude] = useState(parseFloat(localStorage.getItem(\"longitude\")));\r\n   const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n   const { slugIdUniverse } = useParams();\r\n   const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n   const [isPending, setIsPending] = useState(false);\r\n@@ -222,11 +222,11 @@\n   const getUniverse = () => {\r\n     const id = slugIdUniverse.split(\"-\").pop();\r\n     //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n     //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n-   \r\n-    if ( (precUniverseid !== id) &&  id) {\r\n-    \r\n+\r\n+    if ((precUniverseid !== id) && id) {\r\n+\r\n       //console.log(\"UNI:1:012 if  id\", id);\r\n       connector({\r\n         method: \"get\",\r\n         url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n@@ -288,17 +288,17 @@\n           setPrecUniverseid(id);\r\n           setFilter(cpFilter);\r\n         },\r\n         catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\",error);\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\", error);\r\n           if (error.response?.data?.code !== undefined) {\r\n             if (error.response.data.code === 401) {\r\n               NotificationManager.error(\"Univers introuvable.\", \"\");\r\n             } else if (error.response.data.message !== undefined) {\r\n               NotificationManager.error(error.response.data.message, \"\");\r\n             }\r\n           }\r\n-        \r\n+\r\n           setUniverse(null);\r\n         },\r\n       });\r\n     } else {\r\n@@ -353,9 +353,9 @@\n           connector({\r\n             method: \"get\",\r\n             url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n             success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\",response.data[\"hydra:member\"] );\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n               setServices(response.data[\"hydra:member\"] || []);\r\n               setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n               console.log(response.data);\r\n               setIsPending(false);\r\n@@ -441,11 +441,31 @@\n               <BannerPage\r\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n-              /></>\r\n+              />\r\n+              \r\n+              <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n+                    <Row>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+\r\n+                    </Row>\r\n+\r\n+                  </div>\r\n+              \r\n+              \r\n+              \r\n+              </>\r\n           )}\r\n-           <ContentPageStyle style={{backgroundColor:\"#F6F3F5\"}}> \r\n+          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             <Container >\r\n \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n@@ -638,35 +658,21 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n-                    <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n-                    <Row>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n-                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-          \r\n-                    </Row>\r\n-                    \r\n-                  </div>\r\n-                 \r\n-                <FicheUnivers\r\n-                  isDisplayListeProduits={isDisplayListeProduits}\r\n-                  setDisplayListeProduits={setDisplayListeProduits}\r\n-                  setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                  isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                  setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                  isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+                \r\n \r\n-                > </FicheUnivers>\r\n+                  <FicheUnivers\r\n+                    isDisplayListeProduits={isDisplayListeProduits}\r\n+                    setDisplayListeProduits={setDisplayListeProduits}\r\n+                    setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                    isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                    setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                    isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                  > </FicheUnivers>\r\n                 </Container>\r\n-                )}\r\n+              )}\r\n               {isDisplayListeProduits && (\r\n                 <ListProduits\r\n                   data={services}\r\n                   perPage={perPage}\r\n@@ -678,13 +684,13 @@\n                   isLoading={isPending}\r\n                 >\r\n                 </ListProduits>\r\n               )}\r\n-           \r\n-             \r\n \r\n \r\n \r\n+\r\n+\r\n             </Container>\r\n           </ContentPageStyle>\r\n         </>\r\n       ) : (\r\n"
                },
                {
                    "date": 1717595111619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,9 +443,17 @@\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               />\r\n               \r\n-              <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n+         \r\n+              \r\n+              \r\n+              \r\n+              </>\r\n+          )}\r\n+          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container >\r\n+            <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -458,16 +466,8 @@\n \r\n                     </Row>\r\n \r\n                   </div>\r\n-              \r\n-              \r\n-              \r\n-              </>\r\n-          )}\r\n-          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n-            <Container >\r\n-\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n"
                },
                {
                    "date": 1717595346614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,11 @@\n               \r\n               </>\r\n           )}\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n+            \r\n             <Container >\r\n+            {!isDisplayListeProduits && (\r\n             <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n@@ -465,9 +467,9 @@\n                           src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n \r\n                     </Row>\r\n \r\n-                  </div>\r\n+                  </div>)}\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n"
                },
                {
                    "date": 1717595402364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n+            <Container> style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -467,9 +467,9 @@\n                           src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n \r\n                     </Row>\r\n \r\n-                  </div>)}\r\n+                    </Container>)}\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n"
                },
                {
                    "date": 1717595433680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container> style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595460106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '-400%', marginRight: '--400%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595477104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-400%', marginRight: '--400%', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '-400', marginRight: '-400', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595509813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-400', marginRight: '-400', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '-50%', marginRight: '-400', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595524283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-50%', marginRight: '-400', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '-50%', marginRight: '-50%', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595546891,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n             \r\n             <Container >\r\n             {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-50%', marginRight: '-50%', marginBottom: 50 }} >\r\n+            <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n                     <Row>\r\n                       <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                         <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                           src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595576760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -442,34 +442,35 @@\n                 universe={universe}\r\n                 toggleFilter={toggleFilter}\r\n                 setToggleFilter={setToggleFilter}\r\n               />\r\n-              \r\n-         \r\n-              \r\n-              \r\n-              \r\n-              </>\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+            </>\r\n           )}\r\n+             {!isDisplayListeProduits && (\r\n+                <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n+                  <Row>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+\r\n+                  </Row>\r\n+\r\n+                </Container>)}\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n-            \r\n+\r\n             <Container >\r\n-            {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n-                    <Row>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n-                          src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                      <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                        <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                          src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-\r\n-                    </Row>\r\n-\r\n-                    </Container>)}\r\n+           \r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n@@ -660,10 +661,10 @@\n                 </BlocFilterStyle>\r\n               )}\r\n               {isDisplayFicheUnivers && (\r\n                 <Container>\r\n-                \r\n \r\n+\r\n                   <FicheUnivers\r\n                     isDisplayListeProduits={isDisplayListeProduits}\r\n                     setDisplayListeProduits={setDisplayListeProduits}\r\n                     setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n"
                },
                {
                    "date": 1717595615578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n+                <Container style={{ marginLeft: '1%', marginRight: '1%', marginBottom: 50 }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595658150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,18 +450,18 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                <Container style={{ marginLeft: '1%', marginRight: '1%', marginBottom: 50 }} >\r\n+                <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 50 }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{ width: \"33%\", maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:\"33%\", maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:\"33%\", maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n \r\n                   </Row>\r\n \r\n"
                },
                {
                    "date": 1717595681665,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                 <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 50 }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: \"33%\", maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{ width: \"33%\", maxHeight: \"100%\", maxWidth: \"100%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:\"33%\", maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717595703560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                 <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 50 }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: \"33%\", maxHeight: \"100%\", maxWidth: \"100%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{ width: \"830\", maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:\"33%\", maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:\"33%\", maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n \r\n                   </Row>\r\n \r\n"
                },
                {
                    "date": 1717595753195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 50 }} >\r\n+                <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width: \"830\", maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595794484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,708 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container, Col, Row } from \"react-bootstrap\";\r\n+import getImgUniverse from \"./universeImageManager.js\"\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n+import { getPathImage, slugify } from \"../../helper/functions\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+import { consoleActivated, pathImage } from \"../../vars\";\r\n+\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [uniImgVitG, setUniImgVitG] = useState('');\r\n+  const [uniImgVitD, setUniImgVitD] = useState('');\r\n+  const [uniImgVitC, setUniImgVitC] = useState('');\r\n+\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(parseInt(localStorage.getItem(\"defaultCategory\")));\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null));\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(parseFloat(localStorage.getItem(\"latitude\")));\r\n+  const [defaultLongitude] = useState(parseFloat(localStorage.getItem(\"longitude\")));\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n+  const [universeTitle, setuniverseTitle] = useState(\"\");\r\n+  const [universeDescription, setuniverseDescription] = useState('');\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  var universeId = slugIdUniverse.split(\"-\").pop();\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n+    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n+\r\n+    if ((precUniverseid !== id) && id) {\r\n+\r\n+      //console.log(\"UNI:1:012 if  id\", id);\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          //console.log(\"UNI:1:015 response success \",response);\r\n+          const arrayObj = response.data || { categories: [] };\r\n+\r\n+\r\n+\r\n+          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n+          setUniverse(arrayObj);\r\n+\r\n+          if (response.data?.name) {\r\n+            setuniverseTitle(response.data.name);\r\n+            setuniverseDescription(response.data.description);\r\n+            //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n+            setUniImgVitG(response.data.filenameimage1);\r\n+            setUniImgVitD(response.data.filenameimage2);\r\n+            setUniImgVitC(response.data.filenameimage3);\r\n+\r\n+\r\n+\r\n+          }\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setPrecUniverseid(id);\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\", error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              />\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+            </>\r\n+          )}\r\n+             {!isDisplayListeProduits && (\r\n+                  <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+                  <Row>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+        \r\n+                  </Row>\r\n+                  \r\n+                </div>)}\r\n+          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n+\r\n+            <Container >\r\n+           \r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <Container>\r\n+\r\n+\r\n+                  <FicheUnivers\r\n+                    isDisplayListeProduits={isDisplayListeProduits}\r\n+                    setDisplayListeProduits={setDisplayListeProduits}\r\n+                    setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                    isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                    setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                    isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                  > </FicheUnivers>\r\n+                </Container>\r\n+              )}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de edéveloppement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1717595813110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+                  <div style={{ marginLeft: '-5%', marginRight: '-15%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -705,712 +705,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container, Col, Row } from \"react-bootstrap\";\r\n-import getImgUniverse from \"./universeImageManager.js\"\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n-import { getPathImage, slugify } from \"../../helper/functions\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-import { consoleActivated, pathImage } from \"../../vars\";\r\n-\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [uniImgVitG, setUniImgVitG] = useState('');\r\n-  const [uniImgVitD, setUniImgVitD] = useState('');\r\n-  const [uniImgVitC, setUniImgVitC] = useState('');\r\n-\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(parseInt(localStorage.getItem(\"defaultCategory\")));\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null));\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(parseFloat(localStorage.getItem(\"latitude\")));\r\n-  const [defaultLongitude] = useState(parseFloat(localStorage.getItem(\"longitude\")));\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n-  const [universeTitle, setuniverseTitle] = useState(\"\");\r\n-  const [universeDescription, setuniverseDescription] = useState('');\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  var universeId = slugIdUniverse.split(\"-\").pop();\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n-    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n-\r\n-    if ((precUniverseid !== id) && id) {\r\n-\r\n-      //console.log(\"UNI:1:012 if  id\", id);\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          //console.log(\"UNI:1:015 response success \",response);\r\n-          const arrayObj = response.data || { categories: [] };\r\n-\r\n-\r\n-\r\n-          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n-\r\n-          if (response.data?.name) {\r\n-            setuniverseTitle(response.data.name);\r\n-            setuniverseDescription(response.data.description);\r\n-            //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n-            setUniImgVitG(response.data.filenameimage1);\r\n-            setUniImgVitD(response.data.filenameimage2);\r\n-            setUniImgVitC(response.data.filenameimage3);\r\n-\r\n-\r\n-\r\n-          }\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setPrecUniverseid(id);\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\", error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              />\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-            </>\r\n-          )}\r\n-             {!isDisplayListeProduits && (\r\n-                <Container style={{ marginLeft: '0', marginRight: '0', marginBottom: 50 }} >\r\n-                  <Row>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: \"830\", maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n-                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width: 830, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n-                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-\r\n-                  </Row>\r\n-\r\n-                </Container>)}\r\n-          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n-\r\n-            <Container >\r\n-           \r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <Container>\r\n-\r\n-\r\n-                  <FicheUnivers\r\n-                    isDisplayListeProduits={isDisplayListeProduits}\r\n-                    setDisplayListeProduits={setDisplayListeProduits}\r\n-                    setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                    isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                    setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                    isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                  > </FicheUnivers>\r\n-                </Container>\r\n-              )}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de edéveloppement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1717595829613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-5%', marginRight: '-15%', marginBottom:50}} >\r\n+                  <div style={{ marginLeft: '-5%', marginRight: '0%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595857635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-5%', marginRight: '0%', marginBottom:50}} >\r\n+                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717595907274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717595933249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717595951655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\",  , paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\",   }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\",  }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717595961154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\",  , paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\",   }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\"   }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\",  }}\r\n+                      <img style={{width:900, maxHeight: \"400%\"  }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717595978731,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\"   }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\"  }}\r\n+                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596022884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:50}} >\r\n+                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:10}} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596081392,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:10}} >\r\n+                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:10,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596100846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:10,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596127638,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596160363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -464,9 +464,9 @@\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n-                </div>)}\r\n+                </Container>)}\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n            \r\n"
                },
                {
                    "date": 1717596188560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{ marginLeft: '1%', marginRight: '1%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596225192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,12 +450,12 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{ marginLeft: '1%', marginRight: '1%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\",  paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596247071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,12 +456,12 @@\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\",  paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596257210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,12 +456,12 @@\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:900 ,maxHeight: \"400%\",  paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596270681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\",  paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596291291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"900%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"1900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"900%\" }}\r\n+                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596311774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900 ,maxHeight: \"400%\", maxWidth: \"1900%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\", paddingLeft: 0, paddingRight: 0 }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:900 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{ width:1900 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:900, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{width:1900, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596328835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                      <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1900 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596353794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{    backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596365032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{    backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717596386908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1900 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:1900 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1900, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596419606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596426694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -459,9 +459,9 @@\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596474289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"1900%\" }}\r\n+                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596500853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"500\" }}\r\n+                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596513213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n+                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596530458,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,9 @@\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"500\" }}\r\n+                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"500\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n"
                },
                {
                    "date": 1717596540273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -459,9 +459,9 @@\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"500\" }}\r\n+                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596586541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:300 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:1200 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:300 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:1200, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:300, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596607959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:300 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:500 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:300 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:500 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:300, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:500, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596630804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:500 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:500 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:500, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596659560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596701006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n+                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n+                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"1800%\" }}\r\n+                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596743822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n"
                },
                {
                    "date": 1717596759988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800 ,maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{width:800 ,maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596791915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row>\r\n                     <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800 ,maxHeight: \"400%\"}}\r\n+                      <img style={{ maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717596833116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n-                  <Row>\r\n+                  <Row style={{width:\"100%\"}}>\r\n                     <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n"
                },
                {
                    "date": 1717596872521,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,10 +450,10 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n-                  <Row style={{width:\"100%\"}}>\r\n+                  <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Row  >\r\n                     <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n"
                },
                {
                    "date": 1717596897232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"30%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n"
                },
                {
                    "date": 1717596918325,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,12 +456,12 @@\n                     <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:800 , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{ width:\"100%\" , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{width:800, maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{ width:\"100%\", maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717596948415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:\"100%\" , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717597006933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,10 +455,10 @@\n                   <Row  >\r\n                     <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:\"100%\" , maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ width:\"100%\", maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n"
                },
                {
                    "date": 1717597026617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,10 +458,10 @@\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ width:\"100%\", maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597048377,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,15 +452,15 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"100%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597069927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,15 +452,15 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597096482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", }}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{  maxHeight:\"400%\",  }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{ maxHeight: \"400%\",   }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597107909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\",  }}\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\",   }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597125805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,15 +452,15 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"400%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597138221,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{width:\"200%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717597172581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{width:\"200%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"100%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"2000%\" }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597182487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{width:\"200%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717597194369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,9 +450,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                  <Container style={{width:\"100%\", marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                  <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717597225808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n-                  <Row  >\r\n+                \r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n@@ -462,9 +462,9 @@\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n-                  </Row>\r\n+                 \r\n                   \r\n                 </Container>)}\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n"
                },
                {
                    "date": 1717597236430,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n-                \r\n+                  <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n@@ -462,9 +462,9 @@\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n-                 \r\n+                  </Row>\r\n                   \r\n                 </Container>)}\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n"
                },
                {
                    "date": 1717597273084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"100%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"200%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"100%\" }}\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"200%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"100%\" }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"200%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597283906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"200%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"400%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"200%\" }}\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"400%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"200%\" }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597309699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"400%\"}}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"400%\" }}\r\n+                      <img style={{  maxHeight:\"400%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n+                      <img style={{ maxHeight: \"400%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597325019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"600%\"}}\r\n+                      <img style={{ maxHeight: \"600%\", maxWidth: \"600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"400%\", maxWidth: \"600%\" }}\r\n+                      <img style={{  maxHeight:\"600%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"400%\", maxWidth: \"600%\" }}\r\n+                      <img style={{ maxHeight: \"600%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597358025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"600%\" }}\r\n"
                },
                {
                    "date": 1717597370996,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,12 +455,12 @@\n                   <Row  >\r\n                     <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597405795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,15 +453,15 @@\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"600%\", maxWidth: \"600%\"}}\r\n+                      <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"600%\", maxWidth: \"600%\" }}\r\n+                      <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"600%\", maxWidth: \"600%\" }}\r\n+                      <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   \r\n"
                },
                {
                    "date": 1717597438030,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,15 +452,15 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n-                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"600%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597618771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,8 +450,10 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n+   <PageBanner className=\"banner-page-universe\">\r\n+\r\n                   <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n@@ -465,8 +467,9 @@\n         \r\n                   </Row>\r\n                   \r\n                 </Container>)}\r\n+                </PageBanner>\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n            \r\n"
                },
                {
                    "date": 1717597653455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,11 +450,12 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n+                <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n    <PageBanner className=\"banner-page-universe\">\r\n \r\n-                  <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+                \r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -465,11 +466,11 @@\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n-                  \r\n+                  </PageBanner>\r\n                 </Container>)}\r\n-                </PageBanner>\r\n+              \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n            \r\n"
                },
                {
                    "date": 1717597683492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n+import { BackStyle, PageBanner } from \"../../assets/styles/frontGlobalStyle\";\r\n import { getPathImage, slugify } from \"../../helper/functions\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n"
                },
                {
                    "date": 1717597749158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-                <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n+              \r\n    <PageBanner className=\"banner-page-universe\">\r\n \r\n                 \r\n                   <Row  >\r\n@@ -468,9 +468,9 @@\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   </PageBanner>\r\n-                </Container>)}\r\n+                \r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n"
                },
                {
                    "date": 1717597766961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-              \r\n+          <div>    \r\n    <PageBanner className=\"banner-page-universe\">\r\n \r\n                 \r\n                   <Row  >\r\n@@ -468,9 +468,9 @@\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   </PageBanner>\r\n-                \r\n+               </div> \r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n"
                },
                {
                    "date": 1717597812799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-          <div>    \r\n+          <Row>    \r\n    <PageBanner className=\"banner-page-universe\">\r\n \r\n                 \r\n                   <Row  >\r\n@@ -468,9 +468,9 @@\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   </PageBanner>\r\n-               </div> \r\n+               </Row> \r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n"
                },
                {
                    "date": 1717597824522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n-import { BackStyle, PageBanner } from \"../../assets/styles/frontGlobalStyle\";\r\n+\r\n import { getPathImage, slugify } from \"../../helper/functions\";\r\n import {\r\n   BlocFilterStyle,\r\n   ContentPageStyle,\r\n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-          <Row>    \r\n+                <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n    <PageBanner className=\"banner-page-universe\">\r\n \r\n                 \r\n                   <Row  >\r\n@@ -468,9 +468,9 @@\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n                   </PageBanner>\r\n-               </Row> \r\n+                </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n"
                },
                {
                    "date": 1717597844645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n-   <PageBanner className=\"banner-page-universe\">\r\n+ \r\n \r\n                 \r\n                   <Row  >\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n@@ -467,9 +467,9 @@\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n-                  </PageBanner>\r\n+             \r\n                 </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n"
                },
                {
                    "date": 1717597872448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,9 @@\n  \r\n \r\n                 \r\n                   <Row  >\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n"
                },
                {
                    "date": 1717597878104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,9 @@\n  \r\n \r\n                 \r\n                   <Row  >\r\n-                    <Col style={{ width:\"200%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"2000%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n"
                },
                {
                    "date": 1717597887895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,9 @@\n  \r\n \r\n                 \r\n                   <Row  >\r\n-                    <Col style={{ width:\"2000%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{ width:\"10%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n"
                },
                {
                    "date": 1717597898625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,9 +456,9 @@\n  \r\n \r\n                 \r\n                   <Row  >\r\n-                    <Col style={{ width:\"10%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n"
                },
                {
                    "date": 1717597908092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -459,12 +459,12 @@\n                   <Row  >\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{ width:\"800%\", paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n"
                },
                {
                    "date": 1717597931036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,9 +457,9 @@\n \r\n                 \r\n                   <Row  >\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\"}}\r\n+                      <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1717597942595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,12 +460,12 @@\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{  maxHeight:\"600%\", maxWidth: \"1600%\" }}\r\n+                      <img \r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img style={{ maxHeight: \"600%\", maxWidth: \"1600%\" }}\r\n+                      <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n                   </Row>\r\n              \r\n"
                },
                {
                    "date": 1717597983800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,8 @@\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n \r\n                 \r\n-                  <Row  >\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n@@ -466,10 +465,9 @@\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n         \r\n-                  </Row>\r\n-             \r\n+                  \r\n                 </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n"
                },
                {
                    "date": 1717598003818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n-\r\n+<Row>\r\n                 \r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -464,9 +464,9 @@\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-        \r\n+     </Row>   \r\n                   \r\n                 </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n"
                },
                {
                    "date": 1717598129993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n-<Row>\r\n+<Table>\r\n                 \r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -464,9 +464,9 @@\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-     </Row>   \r\n+     </Table>    \r\n                   \r\n                 </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n"
                },
                {
                    "date": 1717598195241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,20 +453,20 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n-<Table>\r\n+<Container   >\r\n                 \r\n-                    <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col  classname='col-lg-3' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-     </Table>    \r\n+       \r\n                   \r\n                 </Container>)}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n"
                },
                {
                    "date": 1717598205610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n-<Container   >\r\n+ \r\n                 \r\n                     <Col  classname='col-lg-3' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717598224099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,9 @@\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n                 \r\n-                    <Col  classname='col-lg-3' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col  classname='col-lg-12' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n"
                },
                {
                    "date": 1717598235079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,9 @@\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n                 \r\n-                    <Col  classname='col-lg-12' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n+                    <Col  classname='col-lg-1' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n                     <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n"
                },
                {
                    "date": 1717598390056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,8 +451,27 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n+              <Container>\r\n+                  <Col classname='col-lg-3' style={{ maxWidth: '30%', paddingLeft: 10, paddingTop: 10, paddingBottom: 10, }}>\r\n+                  <img style={{ maxWidth: '90%' }} src={entreprisePicture} />\r\n+              </Col>\r\n+\r\n+              <Col classname='col-lg-6' style={{\r\n+                  height: 300, width: '50%',\r\n+                  paddingLeft: 30, paddingTop: 10, paddingBottom: 10,overflow:\"clip\"\r\n+              }}>\r\n+\r\n+\r\n+                  {xOneRow[\"description\"]?.substring(0, 700)} {xOneRow[\"description\"]?.length >= 700 && '...'}\r\n+\r\n+\r\n+              </Col>\r\n+              <Col classname='col-lg-3' style={{ width: '20%', paddingLeft: 10, paddingTop: 10, \r\n+              paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n+\r\n+              </Col>\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n                 \r\n"
                },
                {
                    "date": 1717598424095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,24 +453,24 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n               <Container>\r\n                   <Col classname='col-lg-3' style={{ maxWidth: '30%', paddingLeft: 10, paddingTop: 10, paddingBottom: 10, }}>\r\n-                  <img style={{ maxWidth: '90%' }} src={entreprisePicture} />\r\n+                sdfsdfsd\r\n               </Col>\r\n \r\n               <Col classname='col-lg-6' style={{\r\n                   height: 300, width: '50%',\r\n                   paddingLeft: 30, paddingTop: 10, paddingBottom: 10,overflow:\"clip\"\r\n               }}>\r\n \r\n \r\n-                  {xOneRow[\"description\"]?.substring(0, 700)} {xOneRow[\"description\"]?.length >= 700 && '...'}\r\n+              dsdfsdf\r\n \r\n \r\n               </Col>\r\n               <Col classname='col-lg-3' style={{ width: '20%', paddingLeft: 10, paddingTop: 10, \r\n               paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n-\r\n+sdfsdfsdf\r\n               </Col>\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n"
                },
                {
                    "date": 1717598465834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -470,8 +470,9 @@\n               <Col classname='col-lg-3' style={{ width: '20%', paddingLeft: 10, paddingTop: 10, \r\n               paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n sdfsdfsdf\r\n               </Col>\r\n+              \r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n                 \r\n@@ -485,9 +486,11 @@\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n        \r\n                   \r\n-                </Container>)}\r\n+                </Container>\r\n+                </Container>\r\n+                )}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n"
                },
                {
                    "date": 1717598530162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,24 +453,26 @@\n           )}\r\n              {!isDisplayListeProduits && (\r\n               <Container>\r\n                   <Col classname='col-lg-3' style={{ maxWidth: '30%', paddingLeft: 10, paddingTop: 10, paddingBottom: 10, }}>\r\n-                sdfsdfsd\r\n+                  <img \r\n+                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n               </Col>\r\n \r\n               <Col classname='col-lg-6' style={{\r\n                   height: 300, width: '50%',\r\n                   paddingLeft: 30, paddingTop: 10, paddingBottom: 10,overflow:\"clip\"\r\n               }}>\r\n \r\n+<img \r\n+                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n-              dsdfsdf\r\n \r\n-\r\n               </Col>\r\n               <Col classname='col-lg-3' style={{ width: '20%', paddingLeft: 10, paddingTop: 10, \r\n               paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n-sdfsdfsdf\r\n+ <img \r\n+                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n               </Col>\r\n               \r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n"
                },
                {
                    "date": 1717598812997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,18 +458,18 @@\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n               </Col>\r\n \r\n               <Col classname='col-lg-6' style={{\r\n-                  height: 300, width: '50%',\r\n+                  height: 300,   \r\n                   paddingLeft: 30, paddingTop: 10, paddingBottom: 10,overflow:\"clip\"\r\n               }}>\r\n \r\n <img \r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n               </Col>\r\n-              <Col classname='col-lg-3' style={{ width: '20%', paddingLeft: 10, paddingTop: 10, \r\n+              <Col classname='col-lg-3' style={{  paddingLeft: 10, paddingTop: 10, \r\n               paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n  <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n               </Col>\r\n"
                },
                {
                    "date": 1717598852903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,25 +452,23 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n               <Container>\r\n-                  <Col classname='col-lg-3' style={{ maxWidth: '30%', paddingLeft: 10, paddingTop: 10, paddingBottom: 10, }}>\r\n+                  <Col classname='col-lg-3'  >\r\n                   <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n               </Col>\r\n \r\n               <Col classname='col-lg-6' style={{\r\n-                  height: 300,   \r\n-                  paddingLeft: 30, paddingTop: 10, paddingBottom: 10,overflow:\"clip\"\r\n+                  overflow:\"clip\"\r\n               }}>\r\n \r\n <img \r\n                         src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n               </Col>\r\n-              <Col classname='col-lg-3' style={{  paddingLeft: 10, paddingTop: 10, \r\n-              paddingBottom: 10, paddingRight: 30 , overflow: \"clip\"}}>\r\n+              <Col classname='col-lg-3' style={{  overflow: \"clip\"}}>\r\n  <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n               </Col>\r\n               \r\n"
                },
                {
                    "date": 1717598890137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n-              <Container>\r\n+              <Container  style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }}>\r\n                   <Col classname='col-lg-3'  >\r\n                   <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n               </Col>\r\n"
                },
                {
                    "date": 1717598913002,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,8 +452,9 @@\n             </>\r\n           )}\r\n              {!isDisplayListeProduits && (\r\n               <Container  style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }}>\r\n+                <Row>\r\n                   <Col classname='col-lg-3'  >\r\n                   <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n               </Col>\r\n@@ -470,9 +471,9 @@\n               <Col classname='col-lg-3' style={{  overflow: \"clip\"}}>\r\n  <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n               </Col>\r\n-              \r\n+              </Row>\r\n                 <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n  \r\n  \r\n                 \r\n"
                },
                {
                    "date": 1717598996772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -472,11 +472,10 @@\n  <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n               </Col>\r\n               </Row>\r\n-                <Container style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }} >\r\n- \r\n- \r\n+            \r\n+ <Row>\r\n                 \r\n                     <Col  classname='col-lg-1' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n@@ -486,11 +485,10 @@\n                     <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n                       <img \r\n                         src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n        \r\n-                  \r\n+      </Row>            \r\n                 </Container>\r\n-                </Container>\r\n                 )}\r\n               \r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n"
                },
                {
                    "date": 1717599119761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -450,51 +450,51 @@\n \r\n \r\n             </>\r\n           )}\r\n-             {!isDisplayListeProduits && (\r\n-              <Container  style={{  marginLeft: '0%', marginRight: '0%', marginBottom:0,   backgroundColor: \"#F6F3F5\" }}>\r\n-                <Row>\r\n-                  <Col classname='col-lg-3'  >\r\n-                  <img \r\n-                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n-              </Col>\r\n+          {!isDisplayListeProduits && (\r\n+            <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n+              <Row>\r\n+                <Col classname='col-lg-6'  >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n+                </Col>\r\n \r\n-              <Col classname='col-lg-6' style={{\r\n-                  overflow:\"clip\"\r\n-              }}>\r\n+                <Col classname='col-lg-6' style={{\r\n+                  overflow: \"clip\"\r\n+                }}>\r\n \r\n-<img \r\n-                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n-              </Col>\r\n-              <Col classname='col-lg-3' style={{  overflow: \"clip\"}}>\r\n- <img \r\n-                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n-              </Col>\r\n+                </Col>\r\n+                <Col classname='col-lg-3' style={{ overflow: \"clip\" }}>\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n+                </Col>\r\n               </Row>\r\n-            \r\n- <Row>\r\n-                \r\n-                    <Col  classname='col-lg-1' style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img \r\n-                        src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                    <Col style={{  paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img \r\n-                        src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                    <Col style={{   paddingLeft: 0, paddingRight: 0 }} >\r\n-                      <img \r\n-                        src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-       \r\n-      </Row>            \r\n-                </Container>\r\n-                )}\r\n-              \r\n+\r\n+              <Row>\r\n+\r\n+                <Col classname='col-lg-1' style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+\r\n+              </Row>\r\n+            </Container>\r\n+          )}\r\n+\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n-           \r\n+\r\n               {isDesktopOrLaptop && (\r\n                 <Breadcrumb\r\n                   crumbs={[\r\n                     { name: \"Accueil\", path: \"/\" },\r\n"
                },
                {
                    "date": 1717599176878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col classname='col-lg-6'  >\r\n+                <Col style={{ width: '30%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599238504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,23 +453,21 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '30%'}}  >\r\n+                <Col style={{ width: '30%',overflow: \"clip\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n-                <Col classname='col-lg-6' style={{\r\n-                  overflow: \"clip\"\r\n-                }}>\r\n+                <Col  style={{ width: '30%',overflow: \"clip\"}} >\r\n \r\n                   <img\r\n                     src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n                 </Col>\r\n-                <Col classname='col-lg-3' style={{ overflow: \"clip\" }}>\r\n+                <Col style={{ width: '30%',overflow: \"clip\"}}>\r\n                   <img\r\n                     src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n                 </Col>\r\n               </Row>\r\n"
                },
                {
                    "date": 1717599260944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,21 +453,21 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '30%',overflow: \"clip\"}}  >\r\n+                <Col style={{ width: '33%',overflow: \"clip\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n-                <Col  style={{ width: '30%',overflow: \"clip\"}} >\r\n+                <Col  style={{ width: '33%',overflow: \"clip\"}} >\r\n \r\n                   <img\r\n                     src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n                 </Col>\r\n-                <Col style={{ width: '30%',overflow: \"clip\"}}>\r\n+                <Col style={{ width: '33%',overflow: \"clip\"}}>\r\n                   <img\r\n                     src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n                 </Col>\r\n               </Row>\r\n"
                },
                {
                    "date": 1717599276693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,21 +453,21 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '33%',overflow: \"clip\"}}  >\r\n+                <Col style={{ width: '330%',overflow: \"clip\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n-                <Col  style={{ width: '33%',overflow: \"clip\"}} >\r\n+                <Col  style={{ width: '330%',overflow: \"clip\"}} >\r\n \r\n                   <img\r\n                     src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n                 </Col>\r\n-                <Col style={{ width: '33%',overflow: \"clip\"}}>\r\n+                <Col style={{ width: '330%',overflow: \"clip\"}}>\r\n                   <img\r\n                     src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n                 </Col>\r\n               </Row>\r\n"
                },
                {
                    "date": 1717599298029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '0%', marginRight: '0%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{ width: '330%',overflow: \"clip\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599309968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,21 +453,21 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '330%',overflow: \"clip\"}}  >\r\n+                <Col style={{ width: '33%',overflow: \"clip\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n-                <Col  style={{ width: '330%',overflow: \"clip\"}} >\r\n+                <Col  style={{ width: '33%',overflow: \"clip\"}} >\r\n \r\n                   <img\r\n                     src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n                 </Col>\r\n-                <Col style={{ width: '330%',overflow: \"clip\"}}>\r\n+                <Col style={{ width: '33%',overflow: \"clip\"}}>\r\n                   <img\r\n                     src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n                 </Col>\r\n               </Row>\r\n"
                },
                {
                    "date": 1717599336775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '33%',overflow: \"clip\"}}  >\r\n+                <Col style={{ width: '33%',overflow: \"clip\", maxWidth: \"500\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599342874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '33%',overflow: \"clip\", maxWidth: \"500\"}}  >\r\n+                <Col style={{ width: '33%',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599350989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '33%',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n+                <Col style={{ width: '600',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599369250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,9 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '600',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n+                <Col style={{ width: '600%',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599388912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,11 +451,11 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-1%', marginRight: '-1%', marginBottom: 0, backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ marginLeft: '-1%', marginRight: '-1%',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '600%',overflow: \"clip\", maxWidth: \"500%\"}}  >\r\n+                <Col style={{ width: '600%',overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n"
                },
                {
                    "date": 1717599409499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,21 +453,21 @@\n           )}\r\n           {!isDisplayListeProduits && (\r\n             <Container style={{ marginLeft: '-1%', marginRight: '-1%',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n-                <Col style={{ width: '600%',overflow: \"clip\", maxWidth: '500%'}}  >\r\n+                <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n                 </Col>\r\n \r\n-                <Col  style={{ width: '33%',overflow: \"clip\"}} >\r\n+                <Col  style={{ overflow: \"clip\"}} >\r\n \r\n                   <img\r\n                     src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n \r\n \r\n                 </Col>\r\n-                <Col style={{ width: '33%',overflow: \"clip\"}}>\r\n+                <Col style={{  overflow: \"clip\"}}>\r\n                   <img\r\n                     src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n                 </Col>\r\n               </Row>\r\n"
                },
                {
                    "date": 1717599428971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-1%', marginRight: '-1%',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599454923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,730 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { Container, Col, Row } from \"react-bootstrap\";\r\n+import getImgUniverse from \"./universeImageManager.js\"\r\n+import { NotificationManager } from \"react-notifications\";\r\n+import { useMediaQuery } from \"react-responsive\";\r\n+import { useHistory, useParams } from \"react-router-dom\";\r\n+import { useSelector } from \"react-redux\";\r\n+import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n+import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n+import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n+import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n+\r\n+import { getPathImage, slugify } from \"../../helper/functions\";\r\n+import {\r\n+  BlocFilterStyle,\r\n+  ContentPageStyle,\r\n+} from \"../../assets/styles/frontGlobalStyle\";\r\n+import { SearchIcon } from \"../../assets/styles/icons\";\r\n+import SelectCat from \"../../components/categories/selectCat\";\r\n+import FoundPage from \"../../components/foundPage\";\r\n+import BannerPage from \"../../components/front/bannerPage\";\r\n+import ListProduits from \"../../components/front/listProduits\";\r\n+import ArtListProduits from \"../../components/front/artListProduits\";\r\n+import Loader from \"../../components/loader\";\r\n+import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n+import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n+import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n+import Select from \"../../components/ui-elements/select\";\r\n+import endPoints from \"../../config/endPoints\";\r\n+import ROUTES from \"../../config/routes\";\r\n+import connector from \"../../connector\";\r\n+import { clearErrors } from \"../../helper/form\";\r\n+import Base from \"../../theme/front/base\";\r\n+import FicheUnivers from \"./ficheUnivers\";\r\n+import { consoleActivated, pathImage } from \"../../vars\";\r\n+\r\n+\r\n+export default function Universe() {\r\n+  const isDisplayFilter = true;\r\n+  const [uniImgVitG, setUniImgVitG] = useState('');\r\n+  const [uniImgVitD, setUniImgVitD] = useState('');\r\n+  const [uniImgVitC, setUniImgVitC] = useState('');\r\n+\r\n+  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n+  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n+  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n+  const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n+  const [toggleFilter, setToggleFilter] = useState(false);\r\n+  const history = useHistory();\r\n+  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n+  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n+  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n+  const [defaultCategory, setDefaultCategory] = useState(parseInt(localStorage.getItem(\"defaultCategory\")));\r\n+  const [defaultSubCategory, setDefaultSubCategory] = useState(JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null));\r\n+  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n+  const [defaultLatitude] = useState(parseFloat(localStorage.getItem(\"latitude\")));\r\n+  const [defaultLongitude] = useState(parseFloat(localStorage.getItem(\"longitude\")));\r\n+  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n+  const { slugIdUniverse } = useParams();\r\n+  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n+  const [isPending, setIsPending] = useState(false);\r\n+  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n+  const [universe, setUniverse] = useState(false);\r\n+  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n+  const [universeTitle, setuniverseTitle] = useState(\"\");\r\n+  const [universeDescription, setuniverseDescription] = useState('');\r\n+  const [perPage, setPerPage] = useState(perPageDesMob);\r\n+  const [pageIndex, setPageIndex] = useState(0);\r\n+  const [services, setServices] = useState([]);\r\n+  const [totalServices, setTotalServices] = useState(0);\r\n+  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n+  const universeSelector = useSelector((state) => state.universe);\r\n+  var universeId = slugIdUniverse.split(\"-\").pop();\r\n+  const [filter, setFilter] = useState({\r\n+    universe: {\r\n+      label: \"Univers\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n+      value: \"\",\r\n+      category: [],\r\n+      nameCategory: \"\",\r\n+      nameSubCategory: \"\",\r\n+      requireSearchSubCategory: false,\r\n+      isSearchable: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n+    },\r\n+    category: {\r\n+      label: \"Catégorie(s)\",\r\n+      placeholder: \"Choisir dans la liste\",\r\n+      options: [],\r\n+      value: null,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    subCategory: {\r\n+      label: \"Sous-catégorie(s)\",\r\n+      placeholder: \"Affiner votre recherche\",\r\n+      options: [],\r\n+      value: null,\r\n+      hideOptions: true,\r\n+      error: false,\r\n+      infoBull: false,\r\n+      textInfoBulle:\r\n+        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n+    },\r\n+    keyword: {\r\n+      label: \"Réparer quoi\",\r\n+      type: \"text\",\r\n+      name: \"keyword\",\r\n+      placeholder: \"Rentrer un mot clé\",\r\n+      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n+      options: [],\r\n+      active:\r\n+        defaultKeywordBy && defaultKeywordId\r\n+          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n+          : {},\r\n+      error: false,\r\n+      required: false,\r\n+    },\r\n+  });\r\n+  const [filterMap, setFilterMap] = useState({\r\n+    codePostal: {\r\n+      name: \"codePostal\",\r\n+      type: \"text\",\r\n+      label: \"Où\",\r\n+      placeholder: \"Saisir un code postal\",\r\n+      value:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultCodePostal\r\n+          : \"\",\r\n+      latitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLatitude\r\n+          : null,\r\n+      longitude:\r\n+        defaultCodePostal && defaultLatitude && defaultLongitude\r\n+          ? defaultLongitude\r\n+          : null,\r\n+      error: false,\r\n+      required: true,\r\n+      infoBulle: false,\r\n+    },\r\n+  });\r\n+\r\n+  useEffect(() => {\r\n+    if (toggleFilter) {\r\n+      document.body.classList.add(\"menu-is-show\");\r\n+    } else {\r\n+      document.body.classList.remove(\"menu-is-show\");\r\n+    }\r\n+  }, [toggleFilter]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universeSelector.allUniverses) {\r\n+      let cpFilter = { ...filter };\r\n+      cpFilter.universe.options = [];\r\n+      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n+        let o = universeSelector.allUniverses[i];\r\n+        cpFilter.universe.options.push({\r\n+          label: o.name,\r\n+          value: o.id,\r\n+          slug: o.slug,\r\n+        });\r\n+      }\r\n+      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n+      setFilter(cpFilter);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [universeSelector, slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    if (localStorage.getItem(\"codePostal\")) {\r\n+      getUniverse();\r\n+    } else {\r\n+      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n+      history.push(ROUTES.HOME.url);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [slugIdUniverse]);\r\n+\r\n+  useEffect(() => {\r\n+    document.addEventListener(\"Universe\", function (event) {\r\n+      if (event?.detail?.url && event?.detail?.id) {\r\n+        const cpFilter = { ...filter };\r\n+        cpFilter.keyword.value = \"\";\r\n+        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n+        cpFilter.keyword.options = [];\r\n+        localStorage.setItem(\"keywordVal\", \"\");\r\n+        localStorage.setItem(\"keywordBy\", \"\");\r\n+        localStorage.setItem(\"keywordId\", \"\");\r\n+        localStorage.setItem(\"defaultCategory\", \"\");\r\n+        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n+        setDefaultCategory(null);\r\n+        setDefaultSubCategory(null);\r\n+        setFilter(cpFilter);\r\n+      } else {\r\n+        console.log(\"error event params.\");\r\n+      }\r\n+    });\r\n+\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, []);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, 0);\r\n+    }\r\n+  }, [universe]);\r\n+\r\n+  useEffect(() => {\r\n+    if (universe && !isPendingLatLng) {\r\n+      getServices(false, null);\r\n+    }\r\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n+  }, [isPendingLatLng, pageIndex, perPage]);\r\n+\r\n+  const getUniverse = () => {\r\n+    const id = slugIdUniverse.split(\"-\").pop();\r\n+    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n+    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n+\r\n+    if ((precUniverseid !== id) && id) {\r\n+\r\n+      //console.log(\"UNI:1:012 if  id\", id);\r\n+      connector({\r\n+        method: \"get\",\r\n+        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n+        success: (response) => {\r\n+          //console.log(\"UNI:1:015 response success \",response);\r\n+          const arrayObj = response.data || { categories: [] };\r\n+\r\n+\r\n+\r\n+          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n+          setUniverse(arrayObj);\r\n+\r\n+          if (response.data?.name) {\r\n+            setuniverseTitle(response.data.name);\r\n+            setuniverseDescription(response.data.description);\r\n+            //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n+            setUniImgVitG(response.data.filenameimage1);\r\n+            setUniImgVitD(response.data.filenameimage2);\r\n+            setUniImgVitC(response.data.filenameimage3);\r\n+\r\n+\r\n+\r\n+          }\r\n+          let cpFilter = { ...filter };\r\n+          cpFilter.category.options = [];\r\n+\r\n+          cpFilter.category.value = null;\r\n+          cpFilter.subCategory.value = null;\r\n+          cpFilter.subCategory.options = [];\r\n+\r\n+          if (response.data?.nameCategory) {\r\n+            cpFilter.category.label = response.data.nameCategory;\r\n+          }\r\n+\r\n+          if (response.data?.nameSubCategory) {\r\n+            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n+          }\r\n+\r\n+          if (response.data?.requireSearchSubCategory != undefined) {\r\n+            cpFilter.universe.requireSearchSubCategory =\r\n+              response.data.requireSearchSubCategory;\r\n+          }\r\n+\r\n+          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n+            let o = arrayObj.categories[i];\r\n+\r\n+            if (o.id == defaultCategory) {\r\n+              cpFilter.category.value = defaultCategory;\r\n+              cpFilter.subCategory.value = defaultSubCategory;\r\n+              for (let j = 0; j < o.children.length; j++) {\r\n+                cpFilter.subCategory.options.push({\r\n+                  label: o.children[j].name,\r\n+                  value: o.children[j].id,\r\n+                });\r\n+              }\r\n+            }\r\n+            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n+          }\r\n+          setPrecUniverseid(id);\r\n+          setFilter(cpFilter);\r\n+        },\r\n+        catch: (error) => {\r\n+          console.log(\"ERROR ANONYMOUS_UNIVERSE :\", error);\r\n+          if (error.response?.data?.code !== undefined) {\r\n+            if (error.response.data.code === 401) {\r\n+              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n+            } else if (error.response.data.message !== undefined) {\r\n+              NotificationManager.error(error.response.data.message, \"\");\r\n+            }\r\n+          }\r\n+\r\n+          setUniverse(null);\r\n+        },\r\n+      });\r\n+    } else {\r\n+      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n+    }\r\n+  };\r\n+\r\n+  const getServices = (refresh = false, index = null) => {\r\n+    index = index != null ? index : pageIndex;\r\n+    setPageIndex(index);\r\n+    if (!placeIsSelected) {\r\n+      msgErrors({\r\n+        codePostal: true,\r\n+      });\r\n+      return;\r\n+    }\r\n+\r\n+    if (!isPending) {\r\n+      setIsPending(true);\r\n+      setFilter(clearErrors(filter));\r\n+      setFilterMap(clearErrors(filterMap));\r\n+      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n+        let condition = \"\";\r\n+        if (filter.category.value) {\r\n+          condition += `&categories.parent.id=${filter.category.value}`;\r\n+        }\r\n+        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n+          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n+            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n+          }\r\n+        }\r\n+        /*  if (\r\n+          filter.keyword.active.id &&\r\n+          filter.keyword.active.by &&\r\n+          filter.keyword.value.trim()\r\n+        ) {\r\n+          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n+        } else if (filter.keyword.value.trim()) {\r\n+          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n+        } */\r\n+\r\n+        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n+          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n+        }\r\n+\r\n+        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n+          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n+          }${condition}`;\r\n+\r\n+        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n+          setParamsUrlService(cpParamsUrlService);\r\n+          connector({\r\n+            method: \"get\",\r\n+            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n+            success: (response) => {\r\n+              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n+              setServices(response.data[\"hydra:member\"] || []);\r\n+              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n+              console.log(response.data);\r\n+              setIsPending(false);\r\n+            },\r\n+            catch: (error) => {\r\n+              console.log(error);\r\n+              setIsPending(false);\r\n+            },\r\n+          });\r\n+        } else {\r\n+          setIsPending(false);\r\n+        }\r\n+      } else {\r\n+        msgErrors({\r\n+          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n+        });\r\n+        setIsPending(false);\r\n+      }\r\n+    }\r\n+  };\r\n+\r\n+  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n+    const index = cpCategories.findIndex(\r\n+      (cat) => cat.id === cpFilter.category.value\r\n+    );\r\n+    cpFilter.subCategory.options = [];\r\n+    let subCat = [];\r\n+    if (index > -1) {\r\n+      subCat = cpCategories[index].children;\r\n+    } else {\r\n+      const allSubCategory = [];\r\n+      for (let i = 0; i < cpCategories.length; i++) {\r\n+        allSubCategory.push(...cpCategories[i].children);\r\n+      }\r\n+      subCat = allSubCategory;\r\n+    }\r\n+    for (let i = 0; i < subCat.length; i++) {\r\n+      cpFilter.subCategory.options.push({\r\n+        label: subCat[i].name,\r\n+        value: subCat[i].id,\r\n+      });\r\n+    }\r\n+    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n+    return cpFilter;\r\n+  };\r\n+\r\n+  const msgErrors = (e) => {\r\n+    const cpFilter = { ...filter };\r\n+    if (e.universe !== undefined) {\r\n+      cpFilter.universe.error = e.universe;\r\n+      cpFilter.universe.infoBull = e.universe;\r\n+    }\r\n+    if (e.category !== undefined) {\r\n+      cpFilter.category.error = e.category;\r\n+      cpFilter.category.infoBull = e.category;\r\n+    }\r\n+    if (e.subCategory !== undefined) {\r\n+      cpFilter.subCategory.error = e.subCategory;\r\n+      cpFilter.subCategory.infoBull = e.subCategory;\r\n+    }\r\n+\r\n+    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n+    setFilter(cpFilter);\r\n+\r\n+    const cpFilterMap = { ...filterMap };\r\n+    if (e.codePostal !== undefined) {\r\n+      cpFilterMap.codePostal.error = e.codePostal;\r\n+      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n+    }\r\n+    setFilterMap(cpFilterMap);\r\n+  };\r\n+\r\n+  if (universe === false) {\r\n+    return <Loader />;\r\n+  }\r\n+\r\n+  return (\r\n+    <Base>\r\n+      {universe ? (\r\n+        <>\r\n+          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n+            <>\r\n+              <BannerPage\r\n+                universe={universe}\r\n+                toggleFilter={toggleFilter}\r\n+                setToggleFilter={setToggleFilter}\r\n+              />\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+            </>\r\n+          )}\r\n+          {!isDisplayListeProduits && (\r\n+            <Container style={{ width:'100%' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+              <Row>\r\n+                <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n+                </Col>\r\n+\r\n+                <Col  style={{ overflow: \"clip\"}} >\r\n+\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n+\r\n+\r\n+                </Col>\r\n+                <Col style={{  overflow: \"clip\"}}>\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n+                </Col>\r\n+              </Row>\r\n+\r\n+              <Row>\r\n+\r\n+                <Col classname='col-lg-1' style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+                  <img\r\n+                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+\r\n+              </Row>\r\n+            </Container>\r\n+          )}\r\n+\r\n+          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n+\r\n+            <Container >\r\n+\r\n+              {isDesktopOrLaptop && (\r\n+                <Breadcrumb\r\n+                  crumbs={[\r\n+                    { name: \"Accueil\", path: \"/\" },\r\n+                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n+                  ]}\r\n+                />\r\n+              )}\r\n+\r\n+              {isTabletOrMobile && (\r\n+                <div\r\n+                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n+                  onClick={() => {\r\n+                    setToggleFilter(!toggleFilter);\r\n+                  }}\r\n+                >\r\n+                  <SearchIcon /> Rechercher une prestation\r\n+                </div>\r\n+              )}\r\n+\r\n+              {isDisplayListeProduits && (\r\n+                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n+                  {isTabletOrMobile && (\r\n+                    <button\r\n+                      className=\"menu-burger is-opened\"\r\n+                      onClick={() => {\r\n+                        setToggleFilter(false);\r\n+                      }}\r\n+                    >\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                      <span></span>\r\n+                    </button>\r\n+                  )}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.universe}\r\n+                      element={filter.universe}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.universe = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (e.value && e.slug) {\r\n+                          document.dispatchEvent(\r\n+                            new CustomEvent(\"Universe\", {\r\n+                              detail: {\r\n+                                url: `/univers/${e.slug}-${e.value}`,\r\n+                                id: e.value,\r\n+                              },\r\n+                            })\r\n+                          );\r\n+                          history.push(`/univers/${e.slug}-${e.value}`);\r\n+\r\n+                          msgErrors({\r\n+                            universe: false,\r\n+                            category: false,\r\n+                            subCategory: false,\r\n+                            codePostal: false,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <Select\r\n+                      {...filter.category}\r\n+                      element={filter.category}\r\n+                      setElement={(element) => {\r\n+                        const cpFilter = { ...filter };\r\n+                        cpFilter.category = element;\r\n+                        setFilter(cpFilter);\r\n+                      }}\r\n+                      onChange={(e) => {\r\n+                        if (filter.category.value !== e.value) {\r\n+                          let cpFilter = { ...filter };\r\n+                          cpFilter.category.value = e.value;\r\n+                          cpFilter.category.error = false;\r\n+                          localStorage.setItem(\"defaultCategory\", e.value);\r\n+                          cpFilter = refreshSubCategory(\r\n+                            cpFilter,\r\n+                            universe.categories\r\n+                          );\r\n+                          if (e.value == \"\") {\r\n+                            cpFilter.subCategory.value = \"\";\r\n+                          }\r\n+                          cpFilter.subCategory.error = false;\r\n+                          cpFilter.subCategory.infoBull = false;\r\n+                          setFilter(cpFilter);\r\n+                        }\r\n+                      }}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  {filter.category.value && (\r\n+                    <div className=\"item-filter\">\r\n+                      <SelectCat\r\n+                        {...filter.subCategory}\r\n+                        element={filter.subCategory}\r\n+                        setElement={(element) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory = element;\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                        onChangeCallback={(response) => {\r\n+                          const cpFilter = { ...filter };\r\n+                          cpFilter.subCategory.value = response;\r\n+                          cpFilter.subCategory.error = false;\r\n+                          localStorage.setItem(\r\n+                            \"defaultSubCategory\",\r\n+                            JSON.stringify(response)\r\n+                          );\r\n+                          setFilter(cpFilter);\r\n+                        }}\r\n+                      />\r\n+                    </div>\r\n+                  )}\r\n+\r\n+                  {/* <div className=\"item-filter\">\r\n+                  <InputSearchKeyword\r\n+                    filter={filter}\r\n+                    setFilter={setFilter}\r\n+                    universe={universe}\r\n+                  />\r\n+                </div> */}\r\n+\r\n+                  <div className=\"item-filter\">\r\n+                    <InputAutoComplete\r\n+                      filter={filterMap}\r\n+                      setFilter={setFilterMap}\r\n+                      placeIsSelected={placeIsSelected}\r\n+                      setPlaceIsSelected={setPlaceIsSelected}\r\n+                      isPendingLatLng={isPendingLatLng}\r\n+                      setIsPendingLatLng={setIsPendingLatLng}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"item-filter btn-filter-banner\">\r\n+                    <button\r\n+                      className=\"btn-search-filter\"\r\n+                      onClick={() => {\r\n+                        if (\r\n+                          isTabletOrMobile &&\r\n+                          placeIsSelected &&\r\n+                          filterMap.codePostal.latitude &&\r\n+                          filterMap.codePostal.value\r\n+                        ) {\r\n+                          setToggleFilter(false);\r\n+                        }\r\n+\r\n+                        if (\r\n+                          filter.universe.value &&\r\n+                          filter.category.value &&\r\n+                          ((Array.isArray(filter.subCategory.value) &&\r\n+                            filter.subCategory.value.length > 0) ||\r\n+                            !filter.universe.requireSearchSubCategory) &&\r\n+                          placeIsSelected\r\n+                        ) {\r\n+                          getServices(false, 0);\r\n+                        } else {\r\n+                          msgErrors({\r\n+                            universe: !filter.universe.value,\r\n+                            category:\r\n+                              filter.universe.value && !filter.category.value,\r\n+                            subCategory:\r\n+                              filter.universe.value &&\r\n+                              filter.category.value &&\r\n+                              !(\r\n+                                Array.isArray(filter.subCategory.value) &&\r\n+                                filter.subCategory.value.length > 0\r\n+                              ) &&\r\n+                              filter.universe.requireSearchSubCategory,\r\n+                            codePostal: !placeIsSelected,\r\n+                          });\r\n+                        }\r\n+                      }}\r\n+                    >\r\n+                      {isDesktopOrLaptop && (\r\n+                        <>\r\n+                          <SearchIcon />\r\n+                        </>\r\n+                      )}\r\n+                      {isTabletOrMobile && <>Recherche</>}\r\n+                    </button>\r\n+                  </div>\r\n+                </BlocFilterStyle>\r\n+              )}\r\n+              {isDisplayFicheUnivers && (\r\n+                <Container>\r\n+\r\n+\r\n+                  <FicheUnivers\r\n+                    isDisplayListeProduits={isDisplayListeProduits}\r\n+                    setDisplayListeProduits={setDisplayListeProduits}\r\n+                    setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n+                    isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n+                    setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n+                    isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n+\r\n+                  > </FicheUnivers>\r\n+                </Container>\r\n+              )}\r\n+              {isDisplayListeProduits && (\r\n+                <ListProduits\r\n+                  data={services}\r\n+                  perPage={perPage}\r\n+                  setPerPage={setPerPage}\r\n+                  pageIndex={pageIndex}\r\n+                  setPageIndex={setPageIndex}\r\n+                  totalItemsLength={totalServices}\r\n+                  pagination={true}\r\n+                  isLoading={isPending}\r\n+                >\r\n+                </ListProduits>\r\n+              )}\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+            </Container>\r\n+          </ContentPageStyle>\r\n+        </>\r\n+      ) : (\r\n+        <FoundPage\r\n+          noBase\r\n+          title=\"Univers en cours de edéveloppement\"\r\n+          image={imgMaintenence}\r\n+        />\r\n+      )}\r\n+    </Base>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1717599465663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ width:'100%' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ width:'600%' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n@@ -727,734 +727,4 @@\n       )}\r\n     </Base>\r\n   );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { Container, Col, Row } from \"react-bootstrap\";\r\n-import getImgUniverse from \"./universeImageManager.js\"\r\n-import { NotificationManager } from \"react-notifications\";\r\n-import { useMediaQuery } from \"react-responsive\";\r\n-import { useHistory, useParams } from \"react-router-dom\";\r\n-import { useSelector } from \"react-redux\";\r\n-import imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\n-import { ListFichePrestation } from \"../../assets/styles/frontGlobalStyle\";\r\n-import BonusReparation from \"./ficheUniversParts/bonusreparation\";\r\n-import cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.svg';\r\n-\r\n-import { getPathImage, slugify } from \"../../helper/functions\";\r\n-import {\r\n-  BlocFilterStyle,\r\n-  ContentPageStyle,\r\n-} from \"../../assets/styles/frontGlobalStyle\";\r\n-import { SearchIcon } from \"../../assets/styles/icons\";\r\n-import SelectCat from \"../../components/categories/selectCat\";\r\n-import FoundPage from \"../../components/foundPage\";\r\n-import BannerPage from \"../../components/front/bannerPage\";\r\n-import ListProduits from \"../../components/front/listProduits\";\r\n-import ArtListProduits from \"../../components/front/artListProduits\";\r\n-import Loader from \"../../components/loader\";\r\n-import Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\n-import InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\n-import InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\n-import Select from \"../../components/ui-elements/select\";\r\n-import endPoints from \"../../config/endPoints\";\r\n-import ROUTES from \"../../config/routes\";\r\n-import connector from \"../../connector\";\r\n-import { clearErrors } from \"../../helper/form\";\r\n-import Base from \"../../theme/front/base\";\r\n-import FicheUnivers from \"./ficheUnivers\";\r\n-import { consoleActivated, pathImage } from \"../../vars\";\r\n-\r\n-\r\n-export default function Universe() {\r\n-  const isDisplayFilter = true;\r\n-  const [uniImgVitG, setUniImgVitG] = useState('');\r\n-  const [uniImgVitD, setUniImgVitD] = useState('');\r\n-  const [uniImgVitC, setUniImgVitC] = useState('');\r\n-\r\n-  const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n-  const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n-  const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n-  const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n-  const [toggleFilter, setToggleFilter] = useState(false);\r\n-  const history = useHistory();\r\n-  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n-  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n-  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n-  const [defaultCategory, setDefaultCategory] = useState(parseInt(localStorage.getItem(\"defaultCategory\")));\r\n-  const [defaultSubCategory, setDefaultSubCategory] = useState(JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null));\r\n-  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n-  const [defaultLatitude] = useState(parseFloat(localStorage.getItem(\"latitude\")));\r\n-  const [defaultLongitude] = useState(parseFloat(localStorage.getItem(\"longitude\")));\r\n-  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n-  const { slugIdUniverse } = useParams();\r\n-  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n-  const [isPending, setIsPending] = useState(false);\r\n-  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n-  const [universe, setUniverse] = useState(false);\r\n-  const [precUniverseid, setPrecUniverseid] = useState(0);\r\n-  const [universeTitle, setuniverseTitle] = useState(\"\");\r\n-  const [universeDescription, setuniverseDescription] = useState('');\r\n-  const [perPage, setPerPage] = useState(perPageDesMob);\r\n-  const [pageIndex, setPageIndex] = useState(0);\r\n-  const [services, setServices] = useState([]);\r\n-  const [totalServices, setTotalServices] = useState(0);\r\n-  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n-  const universeSelector = useSelector((state) => state.universe);\r\n-  var universeId = slugIdUniverse.split(\"-\").pop();\r\n-  const [filter, setFilter] = useState({\r\n-    universe: {\r\n-      label: \"Univers\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n-      value: \"\",\r\n-      category: [],\r\n-      nameCategory: \"\",\r\n-      nameSubCategory: \"\",\r\n-      requireSearchSubCategory: false,\r\n-      isSearchable: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n-    },\r\n-    category: {\r\n-      label: \"Catégorie(s)\",\r\n-      placeholder: \"Choisir dans la liste\",\r\n-      options: [],\r\n-      value: null,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    subCategory: {\r\n-      label: \"Sous-catégorie(s)\",\r\n-      placeholder: \"Affiner votre recherche\",\r\n-      options: [],\r\n-      value: null,\r\n-      hideOptions: true,\r\n-      error: false,\r\n-      infoBull: false,\r\n-      textInfoBulle:\r\n-        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n-    },\r\n-    keyword: {\r\n-      label: \"Réparer quoi\",\r\n-      type: \"text\",\r\n-      name: \"keyword\",\r\n-      placeholder: \"Rentrer un mot clé\",\r\n-      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n-      options: [],\r\n-      active:\r\n-        defaultKeywordBy && defaultKeywordId\r\n-          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n-          : {},\r\n-      error: false,\r\n-      required: false,\r\n-    },\r\n-  });\r\n-  const [filterMap, setFilterMap] = useState({\r\n-    codePostal: {\r\n-      name: \"codePostal\",\r\n-      type: \"text\",\r\n-      label: \"Où\",\r\n-      placeholder: \"Saisir un code postal\",\r\n-      value:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultCodePostal\r\n-          : \"\",\r\n-      latitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLatitude\r\n-          : null,\r\n-      longitude:\r\n-        defaultCodePostal && defaultLatitude && defaultLongitude\r\n-          ? defaultLongitude\r\n-          : null,\r\n-      error: false,\r\n-      required: true,\r\n-      infoBulle: false,\r\n-    },\r\n-  });\r\n-\r\n-  useEffect(() => {\r\n-    if (toggleFilter) {\r\n-      document.body.classList.add(\"menu-is-show\");\r\n-    } else {\r\n-      document.body.classList.remove(\"menu-is-show\");\r\n-    }\r\n-  }, [toggleFilter]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universeSelector.allUniverses) {\r\n-      let cpFilter = { ...filter };\r\n-      cpFilter.universe.options = [];\r\n-      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n-        let o = universeSelector.allUniverses[i];\r\n-        cpFilter.universe.options.push({\r\n-          label: o.name,\r\n-          value: o.id,\r\n-          slug: o.slug,\r\n-        });\r\n-      }\r\n-      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n-      setFilter(cpFilter);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [universeSelector, slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    if (localStorage.getItem(\"codePostal\")) {\r\n-      getUniverse();\r\n-    } else {\r\n-      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n-      history.push(ROUTES.HOME.url);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [slugIdUniverse]);\r\n-\r\n-  useEffect(() => {\r\n-    document.addEventListener(\"Universe\", function (event) {\r\n-      if (event?.detail?.url && event?.detail?.id) {\r\n-        const cpFilter = { ...filter };\r\n-        cpFilter.keyword.value = \"\";\r\n-        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n-        cpFilter.keyword.options = [];\r\n-        localStorage.setItem(\"keywordVal\", \"\");\r\n-        localStorage.setItem(\"keywordBy\", \"\");\r\n-        localStorage.setItem(\"keywordId\", \"\");\r\n-        localStorage.setItem(\"defaultCategory\", \"\");\r\n-        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n-        setDefaultCategory(null);\r\n-        setDefaultSubCategory(null);\r\n-        setFilter(cpFilter);\r\n-      } else {\r\n-        console.log(\"error event params.\");\r\n-      }\r\n-    });\r\n-\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, []);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, 0);\r\n-    }\r\n-  }, [universe]);\r\n-\r\n-  useEffect(() => {\r\n-    if (universe && !isPendingLatLng) {\r\n-      getServices(false, null);\r\n-    }\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n-  }, [isPendingLatLng, pageIndex, perPage]);\r\n-\r\n-  const getUniverse = () => {\r\n-    const id = slugIdUniverse.split(\"-\").pop();\r\n-    //console.log(\"UNI:1:01 slugIdUniverse.split \",slugIdUniverse,id);\r\n-    //console.log(\"UNI:1:011 \", `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`);\r\n-\r\n-    if ((precUniverseid !== id) && id) {\r\n-\r\n-      //console.log(\"UNI:1:012 if  id\", id);\r\n-      connector({\r\n-        method: \"get\",\r\n-        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n-        success: (response) => {\r\n-          //console.log(\"UNI:1:015 response success \",response);\r\n-          const arrayObj = response.data || { categories: [] };\r\n-\r\n-\r\n-\r\n-          //console.log(\"UNI:1:02 response success \",arrayObj);\r\n-          setUniverse(arrayObj);\r\n-\r\n-          if (response.data?.name) {\r\n-            setuniverseTitle(response.data.name);\r\n-            setuniverseDescription(response.data.description);\r\n-            //console.log(\"STEP GET ANONYMOUS_UNIVERSE\", response.data);\r\n-            setUniImgVitG(response.data.filenameimage1);\r\n-            setUniImgVitD(response.data.filenameimage2);\r\n-            setUniImgVitC(response.data.filenameimage3);\r\n-\r\n-\r\n-\r\n-          }\r\n-          let cpFilter = { ...filter };\r\n-          cpFilter.category.options = [];\r\n-\r\n-          cpFilter.category.value = null;\r\n-          cpFilter.subCategory.value = null;\r\n-          cpFilter.subCategory.options = [];\r\n-\r\n-          if (response.data?.nameCategory) {\r\n-            cpFilter.category.label = response.data.nameCategory;\r\n-          }\r\n-\r\n-          if (response.data?.nameSubCategory) {\r\n-            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n-          }\r\n-\r\n-          if (response.data?.requireSearchSubCategory != undefined) {\r\n-            cpFilter.universe.requireSearchSubCategory =\r\n-              response.data.requireSearchSubCategory;\r\n-          }\r\n-\r\n-          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n-            let o = arrayObj.categories[i];\r\n-\r\n-            if (o.id == defaultCategory) {\r\n-              cpFilter.category.value = defaultCategory;\r\n-              cpFilter.subCategory.value = defaultSubCategory;\r\n-              for (let j = 0; j < o.children.length; j++) {\r\n-                cpFilter.subCategory.options.push({\r\n-                  label: o.children[j].name,\r\n-                  value: o.children[j].id,\r\n-                });\r\n-              }\r\n-            }\r\n-            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n-          }\r\n-          setPrecUniverseid(id);\r\n-          setFilter(cpFilter);\r\n-        },\r\n-        catch: (error) => {\r\n-          console.log(\"ERROR ANONYMOUS_UNIVERSE :\", error);\r\n-          if (error.response?.data?.code !== undefined) {\r\n-            if (error.response.data.code === 401) {\r\n-              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n-            } else if (error.response.data.message !== undefined) {\r\n-              NotificationManager.error(error.response.data.message, \"\");\r\n-            }\r\n-          }\r\n-\r\n-          setUniverse(null);\r\n-        },\r\n-      });\r\n-    } else {\r\n-      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n-    }\r\n-  };\r\n-\r\n-  const getServices = (refresh = false, index = null) => {\r\n-    index = index != null ? index : pageIndex;\r\n-    setPageIndex(index);\r\n-    if (!placeIsSelected) {\r\n-      msgErrors({\r\n-        codePostal: true,\r\n-      });\r\n-      return;\r\n-    }\r\n-\r\n-    if (!isPending) {\r\n-      setIsPending(true);\r\n-      setFilter(clearErrors(filter));\r\n-      setFilterMap(clearErrors(filterMap));\r\n-      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n-        let condition = \"\";\r\n-        if (filter.category.value) {\r\n-          condition += `&categories.parent.id=${filter.category.value}`;\r\n-        }\r\n-        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n-          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n-            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n-          }\r\n-        }\r\n-        /*  if (\r\n-          filter.keyword.active.id &&\r\n-          filter.keyword.active.by &&\r\n-          filter.keyword.value.trim()\r\n-        ) {\r\n-          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n-        } else if (filter.keyword.value.trim()) {\r\n-          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n-        } */\r\n-\r\n-        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n-          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n-        }\r\n-\r\n-        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n-          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n-          }${condition}`;\r\n-\r\n-        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n-          setParamsUrlService(cpParamsUrlService);\r\n-          connector({\r\n-            method: \"get\",\r\n-            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n-            success: (response) => {\r\n-              console.log(\"STEP ANONYMOUS_SERVICES_CATALOG\", response.data[\"hydra:member\"]);\r\n-              setServices(response.data[\"hydra:member\"] || []);\r\n-              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n-              console.log(response.data);\r\n-              setIsPending(false);\r\n-            },\r\n-            catch: (error) => {\r\n-              console.log(error);\r\n-              setIsPending(false);\r\n-            },\r\n-          });\r\n-        } else {\r\n-          setIsPending(false);\r\n-        }\r\n-      } else {\r\n-        msgErrors({\r\n-          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n-        });\r\n-        setIsPending(false);\r\n-      }\r\n-    }\r\n-  };\r\n-\r\n-  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n-    const index = cpCategories.findIndex(\r\n-      (cat) => cat.id === cpFilter.category.value\r\n-    );\r\n-    cpFilter.subCategory.options = [];\r\n-    let subCat = [];\r\n-    if (index > -1) {\r\n-      subCat = cpCategories[index].children;\r\n-    } else {\r\n-      const allSubCategory = [];\r\n-      for (let i = 0; i < cpCategories.length; i++) {\r\n-        allSubCategory.push(...cpCategories[i].children);\r\n-      }\r\n-      subCat = allSubCategory;\r\n-    }\r\n-    for (let i = 0; i < subCat.length; i++) {\r\n-      cpFilter.subCategory.options.push({\r\n-        label: subCat[i].name,\r\n-        value: subCat[i].id,\r\n-      });\r\n-    }\r\n-    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n-    return cpFilter;\r\n-  };\r\n-\r\n-  const msgErrors = (e) => {\r\n-    const cpFilter = { ...filter };\r\n-    if (e.universe !== undefined) {\r\n-      cpFilter.universe.error = e.universe;\r\n-      cpFilter.universe.infoBull = e.universe;\r\n-    }\r\n-    if (e.category !== undefined) {\r\n-      cpFilter.category.error = e.category;\r\n-      cpFilter.category.infoBull = e.category;\r\n-    }\r\n-    if (e.subCategory !== undefined) {\r\n-      cpFilter.subCategory.error = e.subCategory;\r\n-      cpFilter.subCategory.infoBull = e.subCategory;\r\n-    }\r\n-\r\n-    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n-    setFilter(cpFilter);\r\n-\r\n-    const cpFilterMap = { ...filterMap };\r\n-    if (e.codePostal !== undefined) {\r\n-      cpFilterMap.codePostal.error = e.codePostal;\r\n-      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n-    }\r\n-    setFilterMap(cpFilterMap);\r\n-  };\r\n-\r\n-  if (universe === false) {\r\n-    return <Loader />;\r\n-  }\r\n-\r\n-  return (\r\n-    <Base>\r\n-      {universe ? (\r\n-        <>\r\n-          {isDisplayListeProduits && !isDisplayPrestationsArtisan && (\r\n-            <>\r\n-              <BannerPage\r\n-                universe={universe}\r\n-                toggleFilter={toggleFilter}\r\n-                setToggleFilter={setToggleFilter}\r\n-              />\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-            </>\r\n-          )}\r\n-          {!isDisplayListeProduits && (\r\n-            <Container style={{ marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n-              <Row>\r\n-                <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n-                </Col>\r\n-\r\n-                <Col  style={{ overflow: \"clip\"}} >\r\n-\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n-\r\n-\r\n-                </Col>\r\n-                <Col style={{  overflow: \"clip\"}}>\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n-                </Col>\r\n-              </Row>\r\n-\r\n-              <Row>\r\n-\r\n-                <Col classname='col-lg-1' style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-\r\n-              </Row>\r\n-            </Container>\r\n-          )}\r\n-\r\n-          <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n-\r\n-            <Container >\r\n-\r\n-              {isDesktopOrLaptop && (\r\n-                <Breadcrumb\r\n-                  crumbs={[\r\n-                    { name: \"Accueil\", path: \"/\" },\r\n-                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n-                  ]}\r\n-                />\r\n-              )}\r\n-\r\n-              {isTabletOrMobile && (\r\n-                <div\r\n-                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n-                  onClick={() => {\r\n-                    setToggleFilter(!toggleFilter);\r\n-                  }}\r\n-                >\r\n-                  <SearchIcon /> Rechercher une prestation\r\n-                </div>\r\n-              )}\r\n-\r\n-              {isDisplayListeProduits && (\r\n-                <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n-                  {isTabletOrMobile && (\r\n-                    <button\r\n-                      className=\"menu-burger is-opened\"\r\n-                      onClick={() => {\r\n-                        setToggleFilter(false);\r\n-                      }}\r\n-                    >\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                      <span></span>\r\n-                    </button>\r\n-                  )}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.universe}\r\n-                      element={filter.universe}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.universe = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (e.value && e.slug) {\r\n-                          document.dispatchEvent(\r\n-                            new CustomEvent(\"Universe\", {\r\n-                              detail: {\r\n-                                url: `/univers/${e.slug}-${e.value}`,\r\n-                                id: e.value,\r\n-                              },\r\n-                            })\r\n-                          );\r\n-                          history.push(`/univers/${e.slug}-${e.value}`);\r\n-\r\n-                          msgErrors({\r\n-                            universe: false,\r\n-                            category: false,\r\n-                            subCategory: false,\r\n-                            codePostal: false,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <Select\r\n-                      {...filter.category}\r\n-                      element={filter.category}\r\n-                      setElement={(element) => {\r\n-                        const cpFilter = { ...filter };\r\n-                        cpFilter.category = element;\r\n-                        setFilter(cpFilter);\r\n-                      }}\r\n-                      onChange={(e) => {\r\n-                        if (filter.category.value !== e.value) {\r\n-                          let cpFilter = { ...filter };\r\n-                          cpFilter.category.value = e.value;\r\n-                          cpFilter.category.error = false;\r\n-                          localStorage.setItem(\"defaultCategory\", e.value);\r\n-                          cpFilter = refreshSubCategory(\r\n-                            cpFilter,\r\n-                            universe.categories\r\n-                          );\r\n-                          if (e.value == \"\") {\r\n-                            cpFilter.subCategory.value = \"\";\r\n-                          }\r\n-                          cpFilter.subCategory.error = false;\r\n-                          cpFilter.subCategory.infoBull = false;\r\n-                          setFilter(cpFilter);\r\n-                        }\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  {filter.category.value && (\r\n-                    <div className=\"item-filter\">\r\n-                      <SelectCat\r\n-                        {...filter.subCategory}\r\n-                        element={filter.subCategory}\r\n-                        setElement={(element) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory = element;\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                        onChangeCallback={(response) => {\r\n-                          const cpFilter = { ...filter };\r\n-                          cpFilter.subCategory.value = response;\r\n-                          cpFilter.subCategory.error = false;\r\n-                          localStorage.setItem(\r\n-                            \"defaultSubCategory\",\r\n-                            JSON.stringify(response)\r\n-                          );\r\n-                          setFilter(cpFilter);\r\n-                        }}\r\n-                      />\r\n-                    </div>\r\n-                  )}\r\n-\r\n-                  {/* <div className=\"item-filter\">\r\n-                  <InputSearchKeyword\r\n-                    filter={filter}\r\n-                    setFilter={setFilter}\r\n-                    universe={universe}\r\n-                  />\r\n-                </div> */}\r\n-\r\n-                  <div className=\"item-filter\">\r\n-                    <InputAutoComplete\r\n-                      filter={filterMap}\r\n-                      setFilter={setFilterMap}\r\n-                      placeIsSelected={placeIsSelected}\r\n-                      setPlaceIsSelected={setPlaceIsSelected}\r\n-                      isPendingLatLng={isPendingLatLng}\r\n-                      setIsPendingLatLng={setIsPendingLatLng}\r\n-                    />\r\n-                  </div>\r\n-\r\n-                  <div className=\"item-filter btn-filter-banner\">\r\n-                    <button\r\n-                      className=\"btn-search-filter\"\r\n-                      onClick={() => {\r\n-                        if (\r\n-                          isTabletOrMobile &&\r\n-                          placeIsSelected &&\r\n-                          filterMap.codePostal.latitude &&\r\n-                          filterMap.codePostal.value\r\n-                        ) {\r\n-                          setToggleFilter(false);\r\n-                        }\r\n-\r\n-                        if (\r\n-                          filter.universe.value &&\r\n-                          filter.category.value &&\r\n-                          ((Array.isArray(filter.subCategory.value) &&\r\n-                            filter.subCategory.value.length > 0) ||\r\n-                            !filter.universe.requireSearchSubCategory) &&\r\n-                          placeIsSelected\r\n-                        ) {\r\n-                          getServices(false, 0);\r\n-                        } else {\r\n-                          msgErrors({\r\n-                            universe: !filter.universe.value,\r\n-                            category:\r\n-                              filter.universe.value && !filter.category.value,\r\n-                            subCategory:\r\n-                              filter.universe.value &&\r\n-                              filter.category.value &&\r\n-                              !(\r\n-                                Array.isArray(filter.subCategory.value) &&\r\n-                                filter.subCategory.value.length > 0\r\n-                              ) &&\r\n-                              filter.universe.requireSearchSubCategory,\r\n-                            codePostal: !placeIsSelected,\r\n-                          });\r\n-                        }\r\n-                      }}\r\n-                    >\r\n-                      {isDesktopOrLaptop && (\r\n-                        <>\r\n-                          <SearchIcon />\r\n-                        </>\r\n-                      )}\r\n-                      {isTabletOrMobile && <>Recherche</>}\r\n-                    </button>\r\n-                  </div>\r\n-                </BlocFilterStyle>\r\n-              )}\r\n-              {isDisplayFicheUnivers && (\r\n-                <Container>\r\n-\r\n-\r\n-                  <FicheUnivers\r\n-                    isDisplayListeProduits={isDisplayListeProduits}\r\n-                    setDisplayListeProduits={setDisplayListeProduits}\r\n-                    setDisplayFicheUnivers={setDisplayFicheUnivers}\r\n-                    isDisplayFicheUnivers={isDisplayFicheUnivers}\r\n-                    setDisplayPrestationsArtisan={setDisplayPrestationsArtisan}\r\n-                    isDisplayPrestationsArtisan={isDisplayPrestationsArtisan}\r\n-\r\n-                  > </FicheUnivers>\r\n-                </Container>\r\n-              )}\r\n-              {isDisplayListeProduits && (\r\n-                <ListProduits\r\n-                  data={services}\r\n-                  perPage={perPage}\r\n-                  setPerPage={setPerPage}\r\n-                  pageIndex={pageIndex}\r\n-                  setPageIndex={setPageIndex}\r\n-                  totalItemsLength={totalServices}\r\n-                  pagination={true}\r\n-                  isLoading={isPending}\r\n-                >\r\n-                </ListProduits>\r\n-              )}\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-            </Container>\r\n-          </ContentPageStyle>\r\n-        </>\r\n-      ) : (\r\n-        <FoundPage\r\n-          noBase\r\n-          title=\"Univers en cours de edéveloppement\"\r\n-          image={imgMaintenence}\r\n-        />\r\n-      )}\r\n-    </Base>\r\n-  );\r\n-}\r\n"
                },
                {
                    "date": 1717599476366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ width:'600%' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ width:'1200' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599497504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ width:'1200' ,marginLeft: '-1%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ width:'1200' ,marginLeft: '-100%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599508321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ width:'1200' ,marginLeft: '-100%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{ width:'1200' ,marginLeft: '-100', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599524801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,9 +451,9 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{ width:'1200' ,marginLeft: '-100', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n+            <Container style={{marginLeft: '-100%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n               <Row>\r\n                 <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n                   <img\r\n                     src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n"
                },
                {
                    "date": 1717599577720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,44 +451,27 @@\n \r\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n-            <Container style={{marginLeft: '-100%', marginRight: '0',  backgroundColor: \"#F6F3F5\" }}>\r\n-              <Row>\r\n-                <Col style={{  overflow: \"clip\", maxWidth: '500%'}}  >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} />\r\n-                </Col>\r\n+           \r\n+           <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+           <Row>\r\n+             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+               <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+                 src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n+             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+               <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                 src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n+             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+               <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+                 src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n+ \r\n+           </Row>\r\n+           \r\n+         </div>\r\n+           \r\n+           )}\r\n \r\n-                <Col  style={{ overflow: \"clip\"}} >\r\n-\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} />\r\n-\r\n-\r\n-                </Col>\r\n-                <Col style={{  overflow: \"clip\"}}>\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} />\r\n-                </Col>\r\n-              </Row>\r\n-\r\n-              <Row>\r\n-\r\n-                <Col classname='col-lg-1' style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-                <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-                  <img\r\n-                    src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n-\r\n-              </Row>\r\n-            </Container>\r\n-          )}\r\n-\r\n           <ContentPageStyle style={{ backgroundColor: \"#F6F3F5\" }}>\r\n \r\n             <Container >\r\n \r\n"
                },
                {
                    "date": 1717599595474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '-25%', marginRight: '-15%', marginBottom:50}} >\r\n+           <div style={{ marginLeft: '-15%', marginRight: '-15%', marginBottom:50}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717599608425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '-15%', marginRight: '-15%', marginBottom:50}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '-15%', marginBottom:50}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717599617769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '-15%', marginBottom:50}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:50}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717599659339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:50}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:50, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1717599683662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:50, overflowX:\"hidden\"}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1718029312987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:830 ,maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+               <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:830 , maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+               <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029360071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1718029392679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,12 +452,12 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{maxHeight: \"400%\", maxWidth: \"1000%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1718029421578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,9 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{maxHeight: \"400%\", maxWidth: \"1000%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"200%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1718029432132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,9 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"200%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n"
                },
                {
                    "date": 1718029459388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,12 +457,12 @@\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+             <Col style={{ width:\"125%\",paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+             <Col style={{ width:\"125%\",paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n"
                },
                {
                    "date": 1718029508229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -457,13 +457,13 @@\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n-             <Col style={{ width:\"125%\",paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n-             <Col style={{ width:\"125%\",paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+             <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n+               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029573779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"800%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029602654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"400%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029616927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"300%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029636364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"200%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029676050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n+           <div style={{height:300, marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1718029702204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{height:300, marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n+           <div style={{height:400, marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1718029726084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,15 +455,15 @@\n            \r\n            <div style={{height:400, marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n+               <img style={{width:\"100%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"100%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 2, getPathImage(uniImgVitC))} /></Col>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n-               <img style={{ width:\"125%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n+               <img style={{ width:\"100%\",maxHeight: \"100%\", maxWidth: \"400%\" }}\r\n                  src={getImgUniverse(universeId, 3, getPathImage(uniImgVitD))} /></Col>\r\n  \r\n            </Row>\r\n            \r\n"
                },
                {
                    "date": 1718029746650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -452,9 +452,9 @@\n             </>\r\n           )}\r\n           {!isDisplayListeProduits && (\r\n            \r\n-           <div style={{height:400, marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n+           <div style={{ marginLeft: '0%', marginRight: '0%', marginBottom:0, overflowX:\"hidden\"}} >\r\n            <Row>\r\n              <Col style={{ paddingLeft: 0, paddingRight: 0 }} >\r\n                <img style={{width:\"100%\",maxHeight: \"100%\", maxWidth: \"400%\", paddingLeft: 0, paddingRight: 0 }}\r\n                  src={getImgUniverse(universeId, 1, getPathImage(uniImgVitG))} /></Col>\r\n"
                },
                {
                    "date": 1718095001816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n \r\n   const [isDisplayFicheUnivers, setDisplayFicheUnivers] = useState(true);\r\n   const [isDisplayListeProduits, setDisplayListeProduits] = useState(false);\r\n   const [isDisplayPrestationsArtisan, setDisplayPrestationsArtisan] = useState(false);\r\n-  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 593px)\" });\r\n+  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 013px)\" });\r\n   const isDesktopOrLaptop = useMediaQuery({ query: \"(min-width: 994px)\" });\r\n   const [toggleFilter, setToggleFilter] = useState(false);\r\n   const history = useHistory();\r\n   const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n"
                }
            ],
            "date": 1704459477597,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport imgMaintenence from \"../../assets/images/img-page-maintenace.svg\";\r\nimport {\r\n  BlocFilterStyle,\r\n  ContentPageStyle,\r\n} from \"../../assets/styles/frontGlobalStyle\";\r\nimport { SearchIcon } from \"../../assets/styles/icons\";\r\nimport SelectCat from \"../../components/categories/selectCat\";\r\nimport FoundPage from \"../../components/foundPage\";\r\nimport BannerPage from \"../../components/front/bannerPage\";\r\nimport ListProduits from \"../../components/front/listProduits\";\r\nimport Loader from \"../../components/loader\";\r\nimport Breadcrumb from \"../../components/ui-elements/breadcrumb\";\r\nimport InputAutoComplete from \"../../components/ui-elements/inputAutoComplete\";\r\nimport InputSearchKeyword from \"../../components/ui-elements/inputSearchKeyword\";\r\nimport Select from \"../../components/ui-elements/select\";\r\nimport endPoints from \"../../config/endPoints\";\r\nimport ROUTES from \"../../config/routes\";\r\nimport connector from \"../../connector\";\r\nimport { clearErrors } from \"../../helper/form\";\r\nimport Base from \"../../theme/front/base\";\r\nimport cordZ3img1 from '../../assets/images/z3-3.png';\r\nimport cordZ3img2 from '../../assets/images/z3-2.png';\r\nimport cordZ3img3 from '../../assets/images/z3-1.png';\r\nimport cordZ3imgbottom from '../../assets/images/cordZ3imgbottom.png';\r\n\r\n\r\n\r\nimport {\r\n  CordStyle\r\n} from \"../../assets/styles/frontUniverseStyles\";\r\nimport ButtonDef from \"../../components/ui-elements/buttonDef\";\r\nimport Commentcamarche from \"./commentcamarche\";\r\nimport AnatomieUnivers from \"./anatomieUnivers\";\r\nimport DecouvrezArtisan from \"./decouvrezArtisan\";\r\nimport BonusReparation from \"./bonusreparation\";\r\n\r\nexport default function Universe() {\r\n  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 993px)\" });\r\n  const isDesktopOrLaptop = useMediaQuery({\r\n    query: \"(min-width: 994px)\",\r\n  });\r\n  const [toggleFilter, setToggleFilter] = useState(false);\r\n  const history = useHistory();\r\n  const [defaultKeywordId] = useState(localStorage.getItem(\"keywordId\"));\r\n  const [defaultKeywordBy] = useState(localStorage.getItem(\"keywordBy\"));\r\n  const [defaultKeywordVal] = useState(localStorage.getItem(\"keywordVal\"));\r\n  const [defaultCategory, setDefaultCategory] = useState(\r\n    parseInt(localStorage.getItem(\"defaultCategory\"))\r\n  );\r\n  const [defaultSubCategory, setDefaultSubCategory] = useState(\r\n    JSON.parse(localStorage.getItem(\"defaultSubCategory\") || null)\r\n  );\r\n  const [defaultCodePostal] = useState(localStorage.getItem(\"codePostal\"));\r\n  const [defaultLatitude] = useState(\r\n    parseFloat(localStorage.getItem(\"latitude\"))\r\n  );\r\n  const [defaultLongitude] = useState(\r\n    parseFloat(localStorage.getItem(\"longitude\"))\r\n  );\r\n\r\n  const perPageDesMob = isDesktopOrLaptop ? 20 : 8;\r\n  const { slugIdUniverse } = useParams();\r\n  const [placeIsSelected, setPlaceIsSelected] = useState(false);\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [isPendingLatLng, setIsPendingLatLng] = useState(true);\r\n  const [universe, setUniverse] = useState(false);\r\n  const [perPage, setPerPage] = useState(perPageDesMob);\r\n  const [pageIndex, setPageIndex] = useState(0);\r\n  const [services, setServices] = useState([]);\r\n  const [totalServices, setTotalServices] = useState(0);\r\n  const [paramsUrlService, setParamsUrlService] = useState(\"\");\r\n  const universeSelector = useSelector((state) => state.universe);\r\n  const [filter, setFilter] = useState({\r\n    universe: {\r\n      label: \"Univers\",\r\n      placeholder: \"Choisir dans la liste\",\r\n      options: [{ label: \"Tous les univers\", value: \"\", category: [] }],\r\n      value: \"\",\r\n      category: [],\r\n      nameCategory: \"\",\r\n      nameSubCategory: \"\",\r\n      requireSearchSubCategory: false,\r\n      isSearchable: true,\r\n      error: false,\r\n      infoBull: false,\r\n      textInfoBulle:\r\n        \"Veuillez sélectionner un univers dans la liste pour lancer une recherche\",\r\n    },\r\n    category: {\r\n      label: \"Catégorie(s)\",\r\n      placeholder: \"Choisir dans la liste\",\r\n      options: [],\r\n      value: null,\r\n      error: false,\r\n      infoBull: false,\r\n      textInfoBulle:\r\n        \"Veuillez sélectionner une catégorie dans la liste pour lancer une recherche\",\r\n    },\r\n    subCategory: {\r\n      label: \"Sous-catégorie(s)\",\r\n      placeholder: \"Affiner votre recherche\",\r\n      options: [],\r\n      value: null,\r\n      hideOptions: true,\r\n      error: false,\r\n      infoBull: false,\r\n      textInfoBulle:\r\n        \"Veuillez sélectionner une sous-catégorie dans la liste pour lancer une recherche\",\r\n    },\r\n    keyword: {\r\n      label: \"Réparer quoi\",\r\n      type: \"text\",\r\n      name: \"keyword\",\r\n      placeholder: \"Rentrer un mot clé\",\r\n      value: defaultKeywordVal ? defaultKeywordVal : \"\",\r\n      options: [],\r\n      active:\r\n        defaultKeywordBy && defaultKeywordId\r\n          ? { id: defaultKeywordId, by: defaultKeywordBy }\r\n          : {},\r\n      error: false,\r\n      required: false,\r\n    },\r\n  });\r\n  const [filterMap, setFilterMap] = useState({\r\n    codePostal: {\r\n      name: \"codePostal\",\r\n      type: \"text\",\r\n      label: \"Où\",\r\n      placeholder: \"Saisir un code postal\",\r\n      value:\r\n        defaultCodePostal && defaultLatitude && defaultLongitude\r\n          ? defaultCodePostal\r\n          : \"\",\r\n      latitude:\r\n        defaultCodePostal && defaultLatitude && defaultLongitude\r\n          ? defaultLatitude\r\n          : null,\r\n      longitude:\r\n        defaultCodePostal && defaultLatitude && defaultLongitude\r\n          ? defaultLongitude\r\n          : null,\r\n      error: false,\r\n      required: true,\r\n      infoBulle: false,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (toggleFilter) {\r\n      document.body.classList.add(\"menu-is-show\");\r\n    } else {\r\n      document.body.classList.remove(\"menu-is-show\");\r\n    }\r\n  }, [toggleFilter]);\r\n\r\n  useEffect(() => {\r\n    if (universeSelector.allUniverses) {\r\n      let cpFilter = { ...filter };\r\n      cpFilter.universe.options = [];\r\n      for (let i = 0; i < universeSelector.allUniverses.length; i++) {\r\n        let o = universeSelector.allUniverses[i];\r\n        cpFilter.universe.options.push({\r\n          label: o.name,\r\n          value: o.id,\r\n          slug: o.slug,\r\n        });\r\n      }\r\n      cpFilter.universe.value = parseInt(slugIdUniverse.split(\"-\").pop());\r\n      setFilter(cpFilter);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [universeSelector, slugIdUniverse]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"codePostal\")) {\r\n      getUniverse();\r\n    } else {\r\n      localStorage.setItem(\"errorcCodePostal\", \"codePostal non define\");\r\n      history.push(ROUTES.HOME.url);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [slugIdUniverse]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"Universe\", function (event) {\r\n      if (event?.detail?.url && event?.detail?.id) {\r\n        const cpFilter = { ...filter };\r\n        cpFilter.keyword.value = \"\";\r\n        cpFilter.keyword.active = { id: \"\", by: \"\", index: 0 };\r\n        cpFilter.keyword.options = [];\r\n        localStorage.setItem(\"keywordVal\", \"\");\r\n        localStorage.setItem(\"keywordBy\", \"\");\r\n        localStorage.setItem(\"keywordId\", \"\");\r\n        localStorage.setItem(\"defaultCategory\", \"\");\r\n        localStorage.setItem(\"defaultSubCategory\", \"\");\r\n        setDefaultCategory(null);\r\n        setDefaultSubCategory(null);\r\n        setFilter(cpFilter);\r\n      } else {\r\n        console.log(\"error event params.\");\r\n      }\r\n    });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (universe && !isPendingLatLng) {\r\n      getServices(false, 0);\r\n    }\r\n  }, [universe]);\r\n\r\n  useEffect(() => {\r\n    if (universe && !isPendingLatLng) {\r\n      getServices(false, null);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isPendingLatLng, pageIndex, perPage]);\r\n\r\n  const getUniverse = () => {\r\n    const id = slugIdUniverse.split(\"-\").pop();\r\n    if (id) {\r\n      connector({\r\n        method: \"get\",\r\n        url: `${endPoints.ANONYMOUS_UNIVERSE}${id}/categories`,\r\n        success: (response) => {\r\n          const arrayObj = response.data || { categories: [] };\r\n          setUniverse(arrayObj);\r\n\r\n          let cpFilter = { ...filter };\r\n          cpFilter.category.options = [];\r\n\r\n          cpFilter.category.value = null;\r\n          cpFilter.subCategory.value = null;\r\n          cpFilter.subCategory.options = [];\r\n\r\n          if (response.data?.nameCategory) {\r\n            cpFilter.category.label = response.data.nameCategory;\r\n          }\r\n\r\n          if (response.data?.nameSubCategory) {\r\n            cpFilter.subCategory.label = response.data.nameSubCategory;\r\n          }\r\n\r\n          if (response.data?.requireSearchSubCategory != undefined) {\r\n            cpFilter.universe.requireSearchSubCategory =\r\n              response.data.requireSearchSubCategory;\r\n          }\r\n\r\n          for (let i = 0; i < arrayObj.categories.length; i++) {\r\n            let o = arrayObj.categories[i];\r\n\r\n            if (o.id == defaultCategory) {\r\n              cpFilter.category.value = defaultCategory;\r\n              cpFilter.subCategory.value = defaultSubCategory;\r\n              for (let j = 0; j < o.children.length; j++) {\r\n                cpFilter.subCategory.options.push({\r\n                  label: o.children[j].name,\r\n                  value: o.children[j].id,\r\n                });\r\n              }\r\n            }\r\n            cpFilter.category.options.push({ label: o.name, value: o.id });\r\n          }\r\n          setFilter(cpFilter);\r\n        },\r\n        catch: (error) => {\r\n          console.log(error);\r\n          if (error.response?.data?.code !== undefined) {\r\n            if (error.response.data.code === 401) {\r\n              NotificationManager.error(\"Univers introuvable.\", \"\");\r\n            } else if (error.response.data.message !== undefined) {\r\n              NotificationManager.error(error.response.data.message, \"\");\r\n            }\r\n          }\r\n          setUniverse(null);\r\n        },\r\n      });\r\n    } else {\r\n      NotificationManager.error(\"Quelque chose s'est mal passé.\", \"\");\r\n    }\r\n  };\r\n\r\n  const getServices = (refresh = false, index = null) => {\r\n    index = index != null ? index : pageIndex;\r\n    setPageIndex(index);\r\n    if (!placeIsSelected) {\r\n      msgErrors({\r\n        codePostal: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!isPending) {\r\n      setIsPending(true);\r\n      setFilter(clearErrors(filter));\r\n      setFilterMap(clearErrors(filterMap));\r\n      if (refresh || (filterMap.codePostal.latitude && filterMap.codePostal.value)) {\r\n        let condition = \"\";\r\n        if (filter.category.value) {\r\n          condition += `&categories.parent.id=${filter.category.value}`;\r\n        }\r\n        if (filter.subCategory.value && filter.subCategory.value.length) {\r\n          for (let i = 0; i < filter.subCategory.value.length; i++) {\r\n            condition += `&categories.id[]=${filter.subCategory.value[i].value}`;\r\n          }\r\n        }\r\n        /*  if (\r\n          filter.keyword.active.id &&\r\n          filter.keyword.active.by &&\r\n          filter.keyword.value.trim()\r\n        ) {\r\n          condition += `&${filter.keyword.active.by}=${filter.keyword.value}`;\r\n        } else if (filter.keyword.value.trim()) {\r\n          condition += `&or[name,categories.parent.name,categories.name,description]=${filter.keyword.value}`;\r\n        } */\r\n\r\n        if (filterMap.codePostal.latitude && filterMap.codePostal.longitude) {\r\n          condition += `&latitude=${filterMap.codePostal.latitude}&longitude=${filterMap.codePostal.longitude}`;\r\n        }\r\n\r\n        const cpParamsUrlService = `page=${parseInt(index) + 1\r\n          }&itemsPerPage=${perPage}&categories.parent.universe.id=${universe.id\r\n          }${condition}`;\r\n\r\n        if (refresh || cpParamsUrlService !== paramsUrlService) {\r\n          setParamsUrlService(cpParamsUrlService);\r\n          connector({\r\n            method: \"get\",\r\n            url: `${endPoints.ANONYMOUS_SERVICES_CATALOG}?${cpParamsUrlService}`,\r\n            success: (response) => {\r\n              setServices(response.data[\"hydra:member\"] || []);\r\n              setTotalServices(response.data[\"hydra:totalItems\"] || 0);\r\n              setIsPending(false);\r\n            },\r\n            catch: (error) => {\r\n              console.log(error);\r\n              setIsPending(false);\r\n            },\r\n          });\r\n        } else {\r\n          setIsPending(false);\r\n        }\r\n      } else {\r\n        msgErrors({\r\n          codePostal: !(filterMap.codePostal.latitude && filterMap.codePostal.value),\r\n        });\r\n        setIsPending(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const refreshSubCategory = (cpFilter, cpCategories) => {\r\n    const index = cpCategories.findIndex(\r\n      (cat) => cat.id === cpFilter.category.value\r\n    );\r\n    cpFilter.subCategory.options = [];\r\n    let subCat = [];\r\n    if (index > -1) {\r\n      subCat = cpCategories[index].children;\r\n    } else {\r\n      const allSubCategory = [];\r\n      for (let i = 0; i < cpCategories.length; i++) {\r\n        allSubCategory.push(...cpCategories[i].children);\r\n      }\r\n      subCat = allSubCategory;\r\n    }\r\n    for (let i = 0; i < subCat.length; i++) {\r\n      cpFilter.subCategory.options.push({\r\n        label: subCat[i].name,\r\n        value: subCat[i].id,\r\n      });\r\n    }\r\n    if (cpFilter.category.value) cpFilter.subCategory.value = [];\r\n    return cpFilter;\r\n  };\r\n\r\n  const msgErrors = (e) => {\r\n    const cpFilter = { ...filter };\r\n    if (e.universe !== undefined) {\r\n      cpFilter.universe.error = e.universe;\r\n      cpFilter.universe.infoBull = e.universe;\r\n    }\r\n    if (e.category !== undefined) {\r\n      cpFilter.category.error = e.category;\r\n      cpFilter.category.infoBull = e.category;\r\n    }\r\n    if (e.subCategory !== undefined) {\r\n      cpFilter.subCategory.error = e.subCategory;\r\n      cpFilter.subCategory.infoBull = e.subCategory;\r\n    }\r\n\r\n    if (e.notice !== undefined) NotificationManager.error(e.notice, \"\");\r\n    setFilter(cpFilter);\r\n\r\n    const cpFilterMap = { ...filterMap };\r\n    if (e.codePostal !== undefined) {\r\n      cpFilterMap.codePostal.error = e.codePostal;\r\n      cpFilterMap.codePostal.infoBulle = e.codePostal;\r\n    }\r\n    setFilterMap(cpFilterMap);\r\n  };\r\n\r\n  if (universe === false) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <Base>\r\n      {universe ? (\r\n        <>\r\n          <BannerPage\r\n            universe={universe}\r\n            toggleFilter={toggleFilter}\r\n            setToggleFilter={setToggleFilter}\r\n          />\r\n          <ContentPageStyle>\r\n            <Container>\r\n              {isDesktopOrLaptop && (\r\n                <Breadcrumb\r\n                  crumbs={[\r\n                    { name: \"Accueil\", path: \"/\" },\r\n                    { name: universe.name, path: \"/univers/\" + slugIdUniverse },\r\n                  ]}\r\n                />\r\n              )}\r\n\r\n              {isTabletOrMobile && (\r\n                <div\r\n                  className=\"btn-toggle-filter toggel-filter-universe\"\r\n                  onClick={() => {\r\n                    setToggleFilter(!toggleFilter);\r\n                  }}\r\n                >\r\n                  <SearchIcon /> Rechercher une prestation\r\n                </div>\r\n              )}\r\n\r\n              <BlocFilterStyle className=\"filter-universe\" open={toggleFilter}>\r\n                {isTabletOrMobile && (\r\n                  <button\r\n                    className=\"menu-burger is-opened\"\r\n                    onClick={() => {\r\n                      setToggleFilter(false);\r\n                    }}\r\n                  >\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                  </button>\r\n                )}\r\n\r\n                <div className=\"item-filter\">\r\n                  <Select\r\n                    {...filter.universe}\r\n                    element={filter.universe}\r\n                    setElement={(element) => {\r\n                      const cpFilter = { ...filter };\r\n                      cpFilter.universe = element;\r\n                      setFilter(cpFilter);\r\n                    }}\r\n                    onChange={(e) => {\r\n                      if (e.value && e.slug) {\r\n                        document.dispatchEvent(\r\n                          new CustomEvent(\"Universe\", {\r\n                            detail: {\r\n                              url: `/univers/${e.slug}-${e.value}`,\r\n                              id: e.value,\r\n                            },\r\n                          })\r\n                        );\r\n                        history.push(`/univers/${e.slug}-${e.value}`);\r\n\r\n                        msgErrors({\r\n                          universe: false,\r\n                          category: false,\r\n                          subCategory: false,\r\n                          codePostal: false,\r\n                        });\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"item-filter\">\r\n                  <Select\r\n                    {...filter.category}\r\n                    element={filter.category}\r\n                    setElement={(element) => {\r\n                      const cpFilter = { ...filter };\r\n                      cpFilter.category = element;\r\n                      setFilter(cpFilter);\r\n                    }}\r\n                    onChange={(e) => {\r\n                      if (filter.category.value !== e.value) {\r\n                        let cpFilter = { ...filter };\r\n                        cpFilter.category.value = e.value;\r\n                        cpFilter.category.error = false;\r\n                        localStorage.setItem(\"defaultCategory\", e.value);\r\n                        cpFilter = refreshSubCategory(\r\n                          cpFilter,\r\n                          universe.categories\r\n                        );\r\n                        if (e.value == \"\") {\r\n                          cpFilter.subCategory.value = \"\";\r\n                        }\r\n                        cpFilter.subCategory.error = false;\r\n                        cpFilter.subCategory.infoBull = false;\r\n                        setFilter(cpFilter);\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                {filter.category.value && (\r\n                  <div className=\"item-filter\">\r\n                    <SelectCat\r\n                      {...filter.subCategory}\r\n                      element={filter.subCategory}\r\n                      setElement={(element) => {\r\n                        const cpFilter = { ...filter };\r\n                        cpFilter.subCategory = element;\r\n                        setFilter(cpFilter);\r\n                      }}\r\n                      onChangeCallback={(response) => {\r\n                        const cpFilter = { ...filter };\r\n                        cpFilter.subCategory.value = response;\r\n                        cpFilter.subCategory.error = false;\r\n                        localStorage.setItem(\r\n                          \"defaultSubCategory\",\r\n                          JSON.stringify(response)\r\n                        );\r\n                        setFilter(cpFilter);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* <div className=\"item-filter\">\r\n                  <InputSearchKeyword\r\n                    filter={filter}\r\n                    setFilter={setFilter}\r\n                    universe={universe}\r\n                  />\r\n                </div> */}\r\n\r\n                <div className=\"item-filter\">\r\n                  <InputAutoComplete\r\n                    filter={filterMap}\r\n                    setFilter={setFilterMap}\r\n                    placeIsSelected={placeIsSelected}\r\n                    setPlaceIsSelected={setPlaceIsSelected}\r\n                    isPendingLatLng={isPendingLatLng}\r\n                    setIsPendingLatLng={setIsPendingLatLng}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"item-filter btn-filter-banner\">\r\n                  <button\r\n                    className=\"btn-search-filter\"\r\n                    onClick={() => {\r\n                      if (\r\n                        isTabletOrMobile &&\r\n                        placeIsSelected &&\r\n                        filterMap.codePostal.latitude &&\r\n                        filterMap.codePostal.value\r\n                      ) {\r\n                        setToggleFilter(false);\r\n                      }\r\n\r\n                      if (\r\n                        filter.universe.value &&\r\n                        filter.category.value &&\r\n                        ((Array.isArray(filter.subCategory.value) &&\r\n                          filter.subCategory.value.length > 0) ||\r\n                          !filter.universe.requireSearchSubCategory) &&\r\n                        placeIsSelected\r\n                      ) {\r\n                        getServices(false, 0);\r\n                      } else {\r\n                        msgErrors({\r\n                          universe: !filter.universe.value,\r\n                          category:\r\n                            filter.universe.value && !filter.category.value,\r\n                          subCategory:\r\n                            filter.universe.value &&\r\n                            filter.category.value &&\r\n                            !(\r\n                              Array.isArray(filter.subCategory.value) &&\r\n                              filter.subCategory.value.length > 0\r\n                            ) &&\r\n                            filter.universe.requireSearchSubCategory,\r\n                          codePostal: !placeIsSelected,\r\n                        });\r\n                      }\r\n                    }}\r\n                  >\r\n                    {isDesktopOrLaptop && (\r\n                      <>\r\n                        <SearchIcon />\r\n                      </>\r\n                    )}\r\n                    {isTabletOrMobile && <>Recherche</>}\r\n                  </button>\r\n                </div>\r\n              </BlocFilterStyle>\r\n              <CordStyle>\r\n                <div className=\"title-univers\" >{universe.slug}</div>\r\n              </CordStyle>\r\n              {(universe.slug === 'cordonnerie') && (\r\n                <CordStyle>\r\n                  <div className=\"home-univers\" >  Nos artisans partenaires ne manquent ni de talons, ni de talents.\r\n                    Parfaitement bien dans leurs baskets, ils redonnent forme aux escarpins,\r\n                    bottes, ballerines et sneakers qui passent entre leurs mains.\r\n                    Ils sont du genre à bichonner vos chaussures de la semelle jusqu’au dernier lacet :\r\n                    pas question de s’arrêter au premier coup de pompe !</div>\r\n                  <ButtonDef textButton=\"Commandez une réparation\" />\r\n\r\n                  <div class=\"container\">\r\n                    <div class=\"row col-12\">\r\n\r\n                      <img style={{ width: 430 }} src={cordZ3img1} />\r\n                      <img style={{ width: 430 }} src={cordZ3img2} />\r\n                      <img style={{ width: 430 }} src={cordZ3img3} />\r\n                    </div>\r\n                    <img className=\"z3imgbottom\" src={cordZ3imgbottom} />\r\n                  </div>\r\n                </CordStyle>\r\n              )}\r\n\r\n              <Commentcamarche></Commentcamarche>\r\n              <DecouvrezArtisan></DecouvrezArtisan>\r\n              <AnatomieUnivers ></AnatomieUnivers>\r\n              <BonusReparation></BonusReparation>\r\n              <ListProduits\r\n                data={services}\r\n                perPage={perPage}\r\n                setPerPage={setPerPage}\r\n                pageIndex={pageIndex}\r\n                setPageIndex={setPageIndex}\r\n                totalItemsLength={totalServices}\r\n                pagination={true}\r\n                isLoading={isPending}\r\n              />\r\n            </Container>\r\n          </ContentPageStyle>\r\n        </>\r\n      ) : (\r\n        <FoundPage\r\n          noBase\r\n          title=\"Univers en cours de développement\"\r\n          image={imgMaintenence}\r\n        />\r\n      )}\r\n    </Base>\r\n  );\r\n}\r\n"
        }
    ]
}