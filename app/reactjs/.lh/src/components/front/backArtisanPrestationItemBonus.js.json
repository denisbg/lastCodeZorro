{
    "sourceFile": "src/components/front/backArtisanPrestationItemBonus.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1711553676643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1711553676643,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport noImage from \"../../assets/images/noImage.png\";\r\nimport { ProduititemStyle } from \"../../assets/styles/frontGlobalStyle\";\r\nimport { parentCategories } from \"../../helper/functions\";\r\nimport * as vars from \"../../vars\";\r\nimport ButtonDef from \"../ui-elements/buttonDef\";\r\nimport imgBonusreparation from \"../../assets/images/icons/bonusreparation.png\";\r\nimport { getPathImage, slugify } from \"../../helper/functions\";\r\nimport { useParams } from \"react-router-dom\";\r\nexport default function ArtisanPrestationItemBonus( row, slugIdUniverse, slugIdService, ...props ) {\r\n  const [showMore, setShowMore] = useState(false);\r\n  //const linkBenefit = `/univers/${slugIdUniverse}/${slugIdService}/${slugify(row.user.enterprise)}-${row.id}`;\r\n  const linkBenefit = `/univers/${slugIdUniverse}/${slugIdService}`;\r\n  const getPathImage = (image) => (image ? vars.pathImage + image : noImage);\r\n  const getUrl = () => {\r\n    return row.totalBenefits\r\n      ? `/univers/${slugIdUniverse}/${row.slug}-${row.id}`\r\n      : \"#\";\r\n  };\r\n\r\n \r\n   const selectCommandRow = (row, e) =>\r\n  {\r\n    e.preventDefault();\r\n    alert(\"Voici le service\" +row.name);\r\n    console.log(\"PIB STEP Voir le service \", row);\r\n  }\r\n\r\n  console.log(\"Step ArtisanPrestationItemBonus X\", row);\r\n  return (\r\n    <ProduititemStyle xl={3} lg={4} sm={6}>\r\n      <div className=\"content-item-produit\">\r\n\r\n        <div className=\"img-produit\">\r\n        {  (row.bonusreparation === '1') &&\r\n                 (  <span style=  {{  paddingLeft:\"75%\", paddingTop:\"0%\"}}>\r\n                 <img style={{width: 56, height: 30.73}} src={imgBonusreparation} />\r\n                 </span>)\r\n}\r\n          <Link to={getUrl()} className={row.totalBenefits ? '':'disabled-link'}>\r\n            <img\r\n              className=\"img-fluid\"\r\n              src={getPathImage(row.picture)}\r\n              alt={row.name}\r\n            />\r\n          </Link>\r\n        </div>\r\n        <div className=\"detail-produit\">\r\n          <p className=\"name-produit\">\r\n            <Link to={getUrl()} className={row.totalBenefits ? '':'disabled-link'}>{row.name}</Link>\r\n          </p>\r\n          <div\r\n            className=\"desc-produit\"\r\n            style={\r\n              row.description.length > 90\r\n                ? {\r\n                    maxHeight: showMore ? \"initial\" : \"63px\",\r\n                    overflow: \"hidden\",\r\n                    position: \"relative\",\r\n                  }\r\n                : {}\r\n            }\r\n          >\r\n            {row.description}\r\n                      \r\n\r\n            {row.description.length > 90 && (\r\n              <span\r\n                style={{\r\n                  color: \"#7A7C7F\",\r\n                  position: \"absolute\",\r\n                  right: \"2px\",\r\n                  background: \"#fff\",\r\n                  bottom: \"0px\",\r\n                  padding: \"2px 2px\",\r\n                  paddingLeft: \"6px\",\r\n                  textDecoration: \"underline\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => setShowMore(!showMore)}\r\n              >\r\n                {showMore ? \"moins\" : \"plus\"}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"cats-prestation\">\r\n            <span>Catégories :</span>\r\n            <div className=\"item-cats-prestation\">\r\n              {row.categories\r\n                ? parentCategories(row.categories).map((cat) => (\r\n                    <p key={cat.id}>\r\n                      <span>{cat.name}</span>\r\n                    </p>\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n\r\n          <Link to={getUrl()} className=\"url-btn-produit\">\r\n            {row.totalBenefits ? (\r\n              <ButtonDef\r\n                textButton={`Voir les ${row.totalBenefits} réparateur(s)`}\r\n              />\r\n            ) : (\r\n              <ButtonDef textButton={`0 réparateur(s)`} disabled={true} />\r\n            )}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </ProduititemStyle>\r\n  );\r\n  return (\r\n\r\n    <ProduititemStyle xl={3} lg={4} sm={6}>\r\n      <div className=\"content-item-produit\">\r\n\r\n        <div className=\"img-produit\">\r\n          {(row.bonusreparation === '1') &&\r\n            (<span style={{ paddingLeft: \"75%\", paddingTop: \"0%\" }}>\r\n              <img style={{ width: 56, height: 30.73 }} src={imgBonusreparation} />\r\n            </span>)\r\n          }\r\n          <Link to={getUrl()} className={row.totalBenefits ? '' : 'disabled-link'}>\r\n            <img\r\n              className=\"img-fluid\"\r\n              src={getPathImage(row.picture)}\r\n              alt={row.name}\r\n            />\r\n          </Link>\r\n        </div>\r\n        <div className=\"detail-produit\">\r\n          <p className=\"name-produit\">\r\n            <Link to={getUrl()} className={row.totalBenefits ? '' : 'disabled-link'}>{row.name}</Link>\r\n          </p>\r\n  \r\n          <ButtonDef textButton={`Voir le service` }   onClick= {(e)=>selectCommandRow (row,e)}\r\n              />\r\n              \r\n          <div\r\n            className=\"desc-produit\"\r\n            style={\r\n              row.description.length > 90\r\n                ? {\r\n                  maxHeight: showMore ? \"initial\" : \"63px\",\r\n                  overflow: \"hidden\",\r\n                  position: \"relative\",\r\n                }\r\n                : {}\r\n            }\r\n          >\r\n            {row.description}\r\n            {row.description.length > 90 && (\r\n              <span\r\n                style={{\r\n                  color: \"#7A7C7F\",\r\n                  position: \"absolute\",\r\n                  right: \"2px\",\r\n                  background: \"#fff\",\r\n                  bottom: \"0px\",\r\n                  padding: \"2px 2px\",\r\n                  paddingLeft: \"6px\",\r\n                  textDecoration: \"underline\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => setShowMore(!showMore)}\r\n              >\r\n                {showMore ? \"moins\" : \"plus\"}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"cats-prestation\">\r\n            <span>Catégories :</span>\r\n            <div className=\"item-cats-prestation\">\r\n              {row.categories\r\n                ? parentCategories(row.categories).map((cat) => (\r\n                  <p key={cat.id}>\r\n                    <span>{cat.name}</span>\r\n                  </p>\r\n                ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n\r\n         \r\n          <Link to={getUrl()} className=\"url-btn-produit\">\r\n            {row.totalBenefits  ? (\r\n              <ButtonDef\r\n                textButton={`Voir les ${row.totalBenefits} réparateur(s)`}\r\n              />\r\n\r\n            ) : (\r\n              <ButtonDef textButton={`Pas de prestataire` }   onClick={() => {\r\n                alert(\"Cette Prestation n'a pas de réparateur associé\");\r\n              }}  />\r\n            )}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </ProduititemStyle>\r\n  );\r\n}\r\n"
        }
    ]
}